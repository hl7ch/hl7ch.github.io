<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>CH.FHIR.IG.CH-EPR-MHEALTH\Mobile Patient Identifier Cross-reference Query [ITI-83] - FHIR v4.0.1</title>
  
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>
     
    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet"/>
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>
  
    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7.css" rel="stylesheet"/>
    <link href="assets/css/fhir.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->
  
    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body>

    <style type="text/css">h2{--heading-prefix:"2"}
    h3,h4,h5,h6{--heading-prefix:"2"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        
            <!--
<div id="family-nav">
	<a id="logo" no-external="true" href="http://hl7.org/fhir"> <img
		alt="logo fhir" src="assets/images/fhir-logo-www.png" />
	</a>
</div>
-->


            <div id="hl7-nav">
    <a id="ehealthsuisse-logo" no-external="true" href="https://www.e-health-suisse.ch">
        <img alt="visit the e-health-suisse website" height="60" src="assets/images/LogoDE_ehealthsuisse.svg" />
    </a>            
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">CH EPR mHealth (R4)</span><br/>0.1.0 - Draft Standard for Trial Use</p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->
    
    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->
    
        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">Home</a>
  </li>
  <li class="dropdown">
    <a data-toggle="dropdown" href="#" class="dropdown-toggle">Transactions<b class="caret">
      </b>
    </a>
    <ul class="dropdown-menu">
      <li>
        <a href="iti-83.html">Mobile Patient Identifier Cross-reference Query [ITI-83]</a>
      </li>
      <li>
        <a href="iti-93.html">Mobile Patient Identity Feed [ITI-93]</a>
      </li>
      <li>
        <a href="iti-65.html">Provide Document Bundle [ITI-65]</a>
      </li>
      <li>
        <a href="iti-66.html">Find Document Manifest [ITI-66]</a>
      </li>
      <li>
        <a href="iti-67.html">Find Document References [ITI-67]</a>
      </li>
      <li>
        <a href="iti-68.html">Retrieve Document [ITI-68]</a>
      </li>
    </ul>
  </li>
  <li>
    <a href="profiles.html">Profiles</a>
  </li>
  <li>
    <a href="extensions.html">Extensions</a>
  </li>
  <li>
    <a href="terminology.html">Terminology</a>
  </li>
  <li>
    <a href="capstatements.html">Capability Statements</a>
  </li>
  <li>
    <a href="operations.html">Operations</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->
    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->  
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Mobile Patient Identifier Cross-reference Query [ITI-83]</b></li>
        </ul>  
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->
    
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">
<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the CH EPR mHealth (R4) (v0.1.0: <a href="https://confluence.hl7.org/display/HL7/HL7+Balloting" title="Draft Standard for Trial-Use">DSTU</a> 1) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. .  For a full list of available versions, see the <a href="http://fhir.ch/ig/ch-epr-mhealth/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p><!--EndReleaseHeader-->
  <h2>Mobile Patient Identifier Cross-reference Query [ITI-83]</h2>
  
  
  
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#scope" id="markdown-toc-scope">Scope</a></li>
  <li><a href="#actor-roles" id="markdown-toc-actor-roles">Actor Roles</a></li>
  <li><a href="#referenced-standards" id="markdown-toc-referenced-standards">Referenced Standards</a></li>
  <li><a href="#messages" id="markdown-toc-messages">Messages</a></li>
  <li><a href="#trigger-events" id="markdown-toc-trigger-events">Trigger Events</a></li>
  <li><a href="#message-semantics" id="markdown-toc-message-semantics">Message Semantics</a></li>
  <li><a href="#message-example" id="markdown-toc-message-example">Message Example</a></li>
  <li><a href="#security-consideration" id="markdown-toc-security-consideration">Security Consideration</a></li>
</ul>

</div>
<p>This section documents <strong>additional requirements</strong> in the Swiss EPR context on the Mobile Patient Identifier
Cross-reference Query.</p>

<h3 id="scope">Scope</h3>
<p>The Mobile Patient Identifier Cross-reference Query is used by an app in the Swiss EPR to query with the
local identifier the MPI and get the corresponding MPI-PID and the EPR-SPID identifier for the patient.</p>

<h3 id="actor-roles">Actor Roles</h3>
<p><strong>Actor:</strong> Patient Identifier Cross-reference Consumer <br />
<strong>Role:</strong> Queries the Patient Identifier Cross-reference Manager for the MPI-PID and EPR-SPID. <br />
<strong>Actor:</strong> Patient Identity Manager <br />
<strong>Role:</strong> Resolves the local ID sent with the request to the MPI-PID and EPR-SPID.</p>

<h3 id="referenced-standards">Referenced Standards</h3>
<p><a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_PMIR.pdf">Patient Master Identity Registry (PMIR) – Revision 1.1 – December 5, 2019</a> <br />
<a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_PIXm.pdf">Patient Identifier Cross-reference for Mobile (PIXm), Rev. 2.1 – Trial Implementation, December 5, 2019</a></p>

<p>This PIXm Profile is based on Release 4 of the emerging <a href="https://www.hl7.org/fhir/index.html">HL7® FHIR®</a> standard.</p>

<h3 id="messages">Messages</h3>

<p><strong></strong></p>
<p><img src="PMIR_ActorDiagram_ITI-83.plantuml.png" class="figure-img img-responsive img-rounded center-block" alt="" style="width:40%" /></p>
<div style="clear:both;"></div>

<h3 id="trigger-events">Trigger Events</h3>
<p>A mobile app wants to access (read or write) documents, which requires the MPI-PID of the patient.</p>

<h3 id="message-semantics">Message Semantics</h3>
<p>The message semantics is the same as defined in 3.83.4.1.2 with a restriction on the targetSystem query
Parameter:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET [base]/Patient/$ihe-pix?sourceIdentifier=[token]{&amp;targetSystem=[uri]}{&amp;_format=[token]}
</code></pre></div></div>

<p><em>Table 3.83.4.1.2-1: $ihe-pix Message HTTP query Parameters</em></p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Query parameter Name</th>
      <th>Cardinalty</th>
      <th>Search Type</th>
      <th>Description</th>
      <th>Swiss National Extension</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Input Parameters</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>sourceIdentifier</td>
      <td>1..1</td>
      <td>token</td>
      <td>The Patient identifier search parameter that will be used by the Patient Identifier Cross-reference Manager to find cross matching identifiers associated with the Patient Resource. See Section 3.83.4.1.2.1.</td>
      <td>No further refinement.</td>
    </tr>
    <tr>
      <td>targetSystem</td>
      <td><strong>1..2</strong></td>
      <td>uri</td>
      <td>The Assigning Authorities for the Patient Identity Domains from which the returned identifiers shall be selected. See Section 3.83.4.1.2.2.</td>
      <td>SHALL be Restricted to the Assigning authority of the community and/or the EPR-SPID.</td>
    </tr>
    <tr>
      <td>_format</td>
      <td>0..1</td>
      <td>token</td>
      <td>The requested format of the response from the mime-type value set. See ITI TF-2x: Appendix Z.6.</td>
      <td>No further refinement.</td>
    </tr>
  </tbody>
</table>

<p><em>Table 3.83.4.2.2-1: $ihe-pix Message Response</em></p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Parameter</th>
      <th>Cardinality</th>
      <th>Data Type</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>FHIR Parameters Resource</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td>targetIdentifier</td>
      <td><strong>0..2</strong></td>
      <td>Identifier</td>
      <td>The identifier found. Constraints to include the assigning authority as specified in ITI TF-2x: Appendix E.3.</td>
    </tr>
    <tr>
      <td>targetId</td>
      <td><strong>0..1</strong></td>
      <td>Reference(Patient)</td>
      <td>The URL of the Patient Resource</td>
    </tr>
  </tbody>
</table>

<p>If the targetSystem is not restricted to the Assigning authority of the community and/or the EPR-SPID the
error Target Domain not recognized (3.83.4.2.2.4) SHALL be returned.</p>

<p>See the corresponding <a href="OperationDefinition-CH.PMIR.html">OperationDefinition</a>.</p>

<h3 id="message-example">Message Example</h3>
<p>Message response for a patient with a local id of 123 by AssigningAuthority oid 1.2.3 which resides in a
community where the Assigning Authority is oid 5.6.7 and the MPI-PID and EPR-SPID are requested.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>GET [base]/Patient/$ihe-pix?sourceIdentifier=urn:oid:1.2.3|123&amp;targetSystem=urn:oid:5.6.7&amp;targetSystem=urn:oid:2.16.756.5.30.1.127.3.10.3
</code></pre></div></div>

<p>See <a href="Parameters-ParametersPmirCrossreferenceQuery.html">Parameters example</a> as response to the Mobile Patient Identifier Cross-reference Query.</p>

<h3 id="security-consideration">Security Consideration</h3>

<p>TLS SHALL be used. This national extension enforces authentication and authorization of access to the
Patient Identity Manager using IUA profile with basic access token. Consequently
the Mobile Patient Identifier Cross-reference Query [ITI-83] request must authorize using the Incorporate
Authorization Token [ITI-72] transaction of the IUA profile.</p>


</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->


  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->
      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color: #81BEF7" href="https://www.e-health-suisse.ch">eHealth Suisse</a>.  Package ch.fhir.ig.ch-epr-mhealth#0.1.0 based on <a style="color: #81BEF7" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Tue, Aug 18, 2020 18:19+0200">2020-08-18</span>
          <br/>
          <span style="color: #FFFF77">
                      Links: <a style="color: #81BEF7" href="toc.html">Table of Contents</a> |
                 <a style="color: #81BEF7" href="qa.html">QA Report</a>
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
  <!-- Analytics Below
  ================================================== -->
  </body>
</html>