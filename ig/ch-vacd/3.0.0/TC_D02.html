<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>CH.FHIR.IG.CH-VACD\TC D 02 - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7.css" rel="stylesheet"/>
    <link href="assets/css/fhir.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"25"}
    h3,h4,h5,h6{--heading-prefix:"25"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

            <div id="family-nav">
	<a id="logo" no-external="true" href="http://hl7.org/fhir"> <img
		alt="logo fhir" src="fhir-logo-www.png" />
	</a>
</div>

            <div id="hl7-nav">
    <a id="hl7-logo" no-external="true" href="http://www.hl7.ch">
        <img alt="visit the hl7 website" height="50" src="hl7-logo.png" />
    </a>            
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">Implementation Guide CH VACD</span>
            <br/>
            <span style="display:inline-block;">3.0.0 - STU3



  <img alt="Switzerland flag" src="assets/images/che.svg" height="16" title="Switzerland"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
	<!--<li><a href="toc.html">Table of Contents</a></li> -->
	<li>
		<a href="index.html">Home</a>
	</li>


	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">
			Use Cases
			<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="Use-Cases-Deutsch.html">Anwendungsfälle</a>
			</li>
			<li>
				<a href="Use-Cases-Francais.html">Les cas d'utilisation</a>
			</li>
		</ul>
	</li>
	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">
			Documents/Messages
			<b class="caret">
			</b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="immunization-administration-document.html">Immunization Administration document</a>
			</li>
			<li>
				<a href="vaccination-record-document.html">Vaccination Record document</a>
			</li>
			<li>
				<a href="immunization-recommendation-request-message.html">Immunization Recommendation Request message</a>
			</li>
			<li>
				<a href="immunization-recommendation-response-message.html">Immunization Recommendation Response message</a>
			</li>
		</ul>
	</li>
	<li>
		<a href="profiles.html">Profiles</a>
	</li>
	<li>
		<a href="extensions.html">Extensions</a>
	</li>
	<li>
		<a href="terminology.html">Terminology</a>
	</li>
	<li>
		<a href="artifacts.html">Artifacts</a>
	</li>
	<li class="dropdown">
		<a data-toggle="dropdown" href="#" class="dropdown-toggle">
			Test Cases
			<b class="caret"></b>
		</a>
		<ul class="dropdown-menu">
			<li>
				<a href="TestCases.html">Overview</a>
			</li>
			<li>
				<a href="TestCases.html#a-immunizations">A Immunizations</a>
			</li>
			<li>
				<a href="TestCases.html#b-other-elements">B Other Elements</a>
			</li>
			<li>
				<a href="TestCases.html#c-correction-of-entries">C Correction of Entries</a>
			</li>
			<li>
				<a href="TestCases.html#d-conflicts-on-merging-documents">D Conflicts on merging Documents</a>
			</li>
			<li>
				<a href="TestCases.html#e-language-handling-on-merging-documents">E Language handling on merging Documents</a>
			</li>
			<li>
				<a href="TestCases.html#f-add-notes-to-existing-elements">F Add Notes to existing Elements</a>
			</li>
		</ul>
	</li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>TC D 02</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the CH VACD (R4) (v3.0.0: <a data-no-external="true" href="https://confluence.hl7.org/display/HL7/HL7+Balloting" title="Standard for Trial-Use">STU</a> 3) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. The current version which supersedes this version is <a data-no-external="true" href="http://fhir.ch/ig/ch-vacd">6.0.0-ballot</a>.  For a full list of available versions, see the <a data-no-external="true" href="http://fhir.ch/ig/ch-vacd/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>TC D 02</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#test-case-d-02-merging-conflicts-for-immunization-medicalproblems-and-past-illness" id="markdown-toc-test-case-d-02-merging-conflicts-for-immunization-medicalproblems-and-past-illness">Test Case D 02: Merging conflicts for immunization, medicalproblems and past illness</a>    <ul>
      <li><a href="#precondition" id="markdown-toc-precondition">Precondition</a></li>
      <li><a href="#sequence" id="markdown-toc-sequence">Sequence</a></li>
      <li><a href="#result" id="markdown-toc-result">Result</a></li>
      <li><a href="#documents" id="markdown-toc-documents">Documents</a></li>
      <li><a href="#entries" id="markdown-toc-entries">Entries</a></li>
    </ul>
  </li>
</ul>

</div>
<h2 id="test-case-d-02-merging-conflicts-for-immunization-medicalproblems-and-past-illness">Test Case D 02: Merging conflicts for immunization, medicalproblems and past illness</h2>

<h3 id="precondition">Precondition</h3>
<p>In the EPR of the patient there are several ImmunizationAdministration documents. In two documents the same Immunization, PastIllness and MedicalProblem entries are entered.</p>

<h3 id="sequence">Sequence</h3>

<div><?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="409px" preserveAspectRatio="none" style="width:467px;height:409px;background:#FFFFFF;" version="1.1" viewBox="0 0 467 409" width="467px" zoomAndPan="magnify"><defs /><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="126" x="168.25" y="30.6855">Test Case D 02</text><rect fill="#DDDDDD" height="343.7734" style="stroke:#A80036;stroke-width:1.0;" width="352.5" x="1" y="42.6406" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="169" x="92.75" y="56.1357">Reference Community (C1)</text><rect fill="#DDDDDD" height="343.7734" style="stroke:#A80036;stroke-width:1.0;" width="106" x="355.5" y="42.6406" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="358.5" y="56.1357">Community (C2)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="143.6016" y2="392.4141" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="91" x2="91" y1="143.6016" y2="392.4141" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="182" x2="182" y1="143.6016" y2="392.4141" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="319.5" x2="319.5" y1="143.6016" y2="392.4141" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="408" x2="408" y1="143.6016" y2="392.4141" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="5" y="140.5254">Patient</text><ellipse cx="30" cy="72.9922" fill="#0000FF" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;" /><path d="M30,80.9922 L30,107.9922 M17,88.9922 L43,88.9922 M30,107.9922 L17,122.9922 M30,107.9922 L43,122.9922 " fill="none" style="stroke:#A80036;stroke-width:2.0;" /><rect fill="#ADD8E6" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="53" x="65" y="93.3828" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="75" y="114.916">Doc1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="72" y="132.5254">Admin</text><rect fill="#FEFECE" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="85" x="140" y="110.9922" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="71" x="147" y="132.5254">Aggregator</text><rect fill="#90EE90" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="60" x="289.5" y="93.3828" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="299.5" y="114.916">Result</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="296.5" y="132.5254">Record</text><rect fill="#FFA500" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="53" x="382" y="93.3828" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33" x="392" y="114.916">Doc2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="389" y="132.5254">Admin</text><polygon fill="#A80036" points="170.5,171.9531,180.5,175.9531,170.5,179.9531" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="91.5" x2="176.5" y1="175.9531" y2="175.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="98.5" y="171.0967">aggregation</text><polygon fill="#A80036" points="193.5,183.9531,183.5,187.9531,193.5,191.9531" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="187.5" x2="407.5" y1="187.9531" y2="187.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="199.5" y="202.4482">aggregation</text><ellipse cx="91" cy="235.9063" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="108,232.6563,98,236.6563,108,240.6563" style="stroke:#A80036;stroke-width:1.0;" /><ellipse cx="408" cy="235.9063" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="391,232.6563,401,236.6563,391,240.6563" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="106" x2="397" y1="236.6563" y2="236.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="108.5" y="231.7998">Same Immunization entry detected</text><ellipse cx="91" cy="266.2578" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="108,263.0078,98,267.0078,108,271.0078" style="stroke:#A80036;stroke-width:1.0;" /><ellipse cx="408" cy="266.2578" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="391,263.0078,401,267.0078,391,271.0078" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="106" x2="397" y1="267.0078" y2="267.0078" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="108.5" y="262.1514">Same PastIllness entry detected</text><ellipse cx="91" cy="296.6094" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="108,293.3594,98,297.3594,108,301.3594" style="stroke:#A80036;stroke-width:1.0;" /><ellipse cx="408" cy="296.6094" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;" /><polygon fill="#A80036" points="391,293.3594,401,297.3594,391,301.3594" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="106" x2="397" y1="297.3594" y2="297.3594" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="108.5" y="292.5029">Same MedicalRisk entry detected</text><polygon fill="#A80036" points="307.5,340.0625,317.5,344.0625,307.5,348.0625" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="182.5" x2="313.5" y1="344.0625" y2="344.0625" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="189.5" y="322.8545">creates document</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="189.5" y="339.2061">Vaccination Record</text><polygon fill="#A80036" points="307.5,370.4141,317.5,374.4141,307.5,378.4141" style="stroke:#A80036;stroke-width:1.0;" /><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="313.5" y1="374.4141" y2="374.4141" /><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="37" y="369.5576">Patient sees immunization status</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacing" textLength="53" x="204.75" y="400.7949">Version 1.0</text></g></svg></div>

<h3 id="result">Result</h3>
<p>A Vaccination Record Document is created with the merging result. The duplicated entries are all in the list, but on all duplicated entries the extension is added to make the duplicate entry visible by  reference.</p>

<h3 id="documents">Documents</h3>
<ul>
  <li><a href="Bundle-D-D3-HCP1-C1.html">D_D3_HCP1_C1</a></li>
  <li><a href="Bundle-D-D4-HCP2-C2.html">D_D4_HCP2_C2</a></li>
  <li><a href="Bundle-RDD02.html">Result. Document D 02</a></li>
</ul>

<h3 id="entries">Entries</h3>
<ul>
  <li><a href="Immunization-TCD01-IMMUN1.html">Immunization (TCD01_IMMUN1)</a></li>
  <li><a href="Immunization-TCD01-IMMUN2.html">Immunization (TCD01_IMMUN2)</a></li>
  <li><a href="Immunization-TCD01-IMMUN2-2.html">Immunization (TCD01_IMMUN2_2)</a></li>
  <li><a href="Immunization-TCD01-IMMUN3-2.html">Immunization (TCD01_IMMUN3_2)</a></li>
  <li><a href="Immunization-TCD01-IMMUN4.html">Immunization (TCD01_IMMUN4)</a></li>
  <li><a href="Immunization-TCD01-IMMUN5.html">Immunization (TCD01_IMMUN5)</a></li>
  <li><a href="Condition-TCB02-UNDILL1-2.html">Condition (TCB02_UNDILL1_2)</a></li>
  <li><a href="Condition-TCD02-UNDILL1-2.html">Condition (TCD02_UNDILL1_2)</a></li>
  <li><a href="Condition-TCB03-EXPRISK1-2.html">Condition (TCB03_EXPRISK1_2)</a></li>
  <li><a href="Condition-TCD02-EXPRISK1-2.html">Condition (TCD02_EXPRISK1_2)</a></li>
</ul>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2021+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.hl7.ch/">HL7 Switzerland</a>.  Package ch.fhir.ig.ch-vacd#3.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Dec 21, 2022 13:48+0100">2022-12-21</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                

| <a style="color: #81BEF7" target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSejY5cinbQ4kHgGKMhncYu0mPuWb7euUkxfeXZeiUCFFa4k6g/viewform?usp=sf_link&amp;entry%2E1353807103=ch.fhir.ig.ch-vacd%233.0.0%20/TC_D02.html&amp;entry%2E247644557=TC%20D%2002">Propose a change</a>

          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->


  


  



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

