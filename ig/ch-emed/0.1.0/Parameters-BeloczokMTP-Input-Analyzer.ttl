@prefix fhir: <http://hl7.org/fhir/> .
@prefix loinc: <http://loinc.org/rdf#> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix sct: <http://snomed.info/id/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://chmed20af.emediplan.ch/fhir/Parameters/BeloczokMTP-Input-Analyzer> a fhir:Parameters;
  fhir:nodeRole fhir:treeRoot;
  fhir:Resource.id [ fhir:value "BeloczokMTP-Input-Analyzer"];
  fhir:Parameters.parameter [
     fhir:index 0;
     fhir:Parameters.parameter.name [ fhir:value "ch-emed-doc" ];
     fhir:Parameters.parameter.resource [
       a fhir:Bundle;
       fhir:Resource.id [ fhir:value "2-3-MedicationTreatmentPlan" ];
       fhir:Bundle.identifier [
         fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
         fhir:Identifier.value [ fhir:value "urn:uuid:17931678-20b4-11e6-b67b-9e71128cca77" ]
       ];
       fhir:Bundle.type [ fhir:value "document" ];
       fhir:Bundle.timestamp [ fhir:value "2012-02-04T14:00:00+01:00"^^xsd:dateTime ];
       fhir:Bundle.entry [
         fhir:index 0;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Composition/2-3-MedicationTreatmentPlan" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Composition/2-3-MedicationTreatmentPlan>
       ], [
         fhir:index 1;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Patient/MonikaWegmueller" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Patient/MonikaWegmueller>
       ], [
         fhir:index 2;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Practitioner/FamilienHausarzt" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Practitioner/FamilienHausarzt>
       ], [
         fhir:index 3;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Organization/Hausarzt" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Organization/Hausarzt>
       ], [
         fhir:index 4;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Organization/Custodian" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Organization/Custodian>
       ], [
         fhir:index 5;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/Patient/MonikaWegmuellerRecipient" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/Patient/MonikaWegmuellerRecipient>
       ], [
         fhir:index 6;
         fhir:Bundle.entry.fullUrl [ fhir:value "http://test.fhir.ch/r4/MedicationStatement/2-3-MedStatBeloczok" ];
         fhir:Bundle.entry.resource <http://test.fhir.ch/r4/MedicationStatement/2-3-MedStatBeloczok>
       ]
     ]
  ] .

<http://test.fhir.ch/r4/Composition/2-3-MedicationTreatmentPlan> a fhir:Composition;
  fhir:Resource.id [ fhir:value "2-3-MedicationTreatmentPlan"];
  fhir:Resource.language [ fhir:value "de-CH"];
  fhir:DomainResource.extension [
     fhir:index 0;
     fhir:Extension.url [ fhir:value "http://chmed20af.emediplan.ch/fhir/StructureDefinition/chmed20af-inputdocumentsource" ];
     fhir:Extension.valueString [ fhir:value "EPD" ]
  ], [
     fhir:index 1;
     fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-setid" ];
     fhir:Extension.valueIdentifier [
       fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
       fhir:Identifier.value [ fhir:value "urn:uuid:17931678-20b4-11e6-b67b-9e71128cca77" ]
     ]
  ], [
     fhir:index 2;
     fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-versionnumber" ];
     fhir:Extension.valueUnsignedInt [ fhir:value "1"^^xsd:nonNegativeInteger ]
  ], [
     fhir:index 3;
     fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-informationrecipient" ];
     fhir:Extension.valueReference [
       fhir:link <http://chmed20af.emediplan.ch/fhir/Patient/MonikaWegmuellerRecipient>;
       fhir:Reference.reference [ fhir:value "Patient/MonikaWegmuellerRecipient" ]
     ]
  ];
  fhir:Composition.identifier [
     fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
     fhir:Identifier.value [ fhir:value "urn:uuid:17931678-20b4-11e6-b67b-9e71128cca77" ]
  ];
  fhir:Composition.status [ fhir:value "final"];
  fhir:Composition.type [
     fhir:CodeableConcept.coding [
       fhir:index 0;
       a sct:419891008;
       fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
       fhir:Coding.code [ fhir:value "419891008" ];
       fhir:Coding.display [ fhir:value "Record artifact (record artifact)" ]
     ], [
       fhir:index 1;
       a loinc:77603-9;
       fhir:Coding.system [ fhir:value "http://loinc.org" ];
       fhir:Coding.code [ fhir:value "77603-9" ];
       fhir:Coding.display [ fhir:value "Medication treatment plan.extended" ]
     ]
  ];
  fhir:Composition.subject [
     fhir:link <http://chmed20af.emediplan.ch/fhir/Patient/MonikaWegmueller>;
     fhir:Reference.reference [ fhir:value "Patient/MonikaWegmueller" ]
  ];
  fhir:Composition.date [ fhir:value "2012-02-04T14:00:00+01:00"^^xsd:dateTime];
  fhir:Composition.author [
     fhir:index 0;
     fhir:link <http://chmed20af.emediplan.ch/fhir/Practitioner/FamilienHausarzt>;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-time" ];
       fhir:Extension.valueDateTime [ fhir:value "2012-02-04T14:00:00+01:00"^^xsd:dateTime ]
     ];
     fhir:Reference.reference [ fhir:value "Practitioner/FamilienHausarzt" ]
  ], [
     fhir:index 1;
     fhir:link <http://chmed20af.emediplan.ch/fhir/Organization/Hausarzt>;
     fhir:Reference.reference [ fhir:value "Organization/Hausarzt" ]
  ];
  fhir:Composition.title [ fhir:value "Therapieentscheid Medikation"];
  fhir:Composition.confidentiality [
     fhir:value "N";
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-confidentialitycode" ];
       fhir:Extension.valueCodeableConcept [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a sct:17621005;
           fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
           fhir:Coding.code [ fhir:value "17621005" ];
           fhir:Coding.display [ fhir:value "Normally accessible" ]
         ]
       ]
     ]
  ];
  fhir:Composition.custodian [
     fhir:link <http://chmed20af.emediplan.ch/fhir/Organization/Custodian>;
     fhir:Reference.reference [ fhir:value "Organization/Custodian" ]
  ];
  fhir:Composition.section [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-core/StructureDefinition/ch-ext-epr-sectionid" ];
       fhir:Extension.valueIdentifier [
         fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
         fhir:Identifier.value [ fhir:value "urn:uuid:17931678-20b4-11e6-b67b-9e71128cca77" ]
       ]
     ];
     fhir:Composition.section.title [ fhir:value "Medikamentöser Behandlungsplan" ];
     fhir:Composition.section.code [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         a loinc:77604-7;
         fhir:Coding.system [ fhir:value "http://loinc.org" ];
         fhir:Coding.code [ fhir:value "77604-7" ];
         fhir:Coding.display [ fhir:value "Medication treatment plan.brief" ]
       ]
     ];
     fhir:Composition.section.text [
       fhir:Narrative.status [ fhir:value "generated" ];
       fhir:Narrative.div "<div xmlns=\"http://www.w3.org/1999/xhtml\">\n                                        <table>\n                                            <thead>\n                                                <tr>\n                                                    <th>Präpartename</th>\n                                                    <th>Wirkstoffname</th>\n                                                    <th>Galenische Form</th>\n                                                    <th>Dosis pro Einheit</th>\n                                                    <th>Dosierung</th>\n                                                    <th>Dos.Morgen</th>\n                                                    <th>Dos.Mittag</th>\n                                                    <th>Dos.Abend</th>\n                                                    <th>Dos.Nacht</th>\n                                                    <th>Verabreichungsweg</th>\n                                                    <th>Kommentar</th>\n                                                    <th>Anwendungsdauer</th>\n                                                    <th>Behandlungsgrund</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                <tr id=\"mtp.1\">\n                                                    <td id=\"mtp.1.brandedmedication\">Beloc Zok</td>\n                                                    <td id=\"mtp.1.ingredient\">Metoprolol</td>\n                                                    <td id=\"mtp.1.packageform\"> Ret Tbl</td>\n                                                    <td id=\"mtp.1.dosequantity\">2.5 mg</td>\n                                                    <td id=\"mtp.1.dosageintakemode\">Morgens 1 und abends 1/2 Tablette nehmen</td>\n                                                    <td id=\"mtp.1.dosagemorning\">1</td>\n                                                    <td id=\"mtp.1.dosagelunch\">0</td>\n                                                    <td id=\"mtp.1.dosageevening\">0.5</td>\n                                                    <td id=\"mtp.1.dosagenight\">0</td>\n                                                    <td id=\"mtp.1.routecode\">oral</td>\n                                                    <td id=\"mtp.1.note\"/>\n                                                    <td id=\"mtp.1.datefromto\"/>\n                                                    <td id=\"mtp.1.reason\">Bluthochdruck</td>\n                                                </tr>\n                                            </tbody>\n                                        </table>\n                                    </div>"
     ];
     fhir:Composition.section.entry [
       fhir:index 0;
       fhir:link <http://chmed20af.emediplan.ch/fhir/MedicationStatement/2-3-MedStatBeloczok>;
       fhir:Reference.reference [ fhir:value "MedicationStatement/2-3-MedStatBeloczok" ]
     ]
  ] .

<http://test.fhir.ch/r4/Patient/MonikaWegmueller> a fhir:Patient;
  fhir:Resource.id [ fhir:value "MonikaWegmueller"];
  fhir:Patient.identifier [
     fhir:index 0;
     fhir:Identifier.type [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "http://terminology.hl7.org/CodeSystem/v2-0203" ];
         fhir:Coding.code [ fhir:value "MR" ]
       ]
     ];
     fhir:Identifier.system [ fhir:value "urn:oid:2.999" ];
     fhir:Identifier.value [ fhir:value "11111111" ]
  ];
  fhir:Patient.name [
     fhir:index 0;
     fhir:HumanName.family [ fhir:value "Wegmüller" ];
     fhir:HumanName.given [
       fhir:value "Monika";
       fhir:index 0
     ]
  ];
  fhir:Patient.gender [ fhir:value "female"];
  fhir:Patient.birthDate [ fhir:value "1943-05-15"^^xsd:date];
  fhir:Patient.address [
     fhir:index 0;
     fhir:Address.line [
       fhir:value "Wiesenstr. 12";
       fhir:index 0
     ];
     fhir:Address.city [ fhir:value "Zürich" ];
     fhir:Address.postalCode [ fhir:value "8003" ];
     fhir:Address.country [ fhir:value "CH" ]
  ] .

<http://test.fhir.ch/r4/Practitioner/FamilienHausarzt> a fhir:Practitioner;
  fhir:Resource.id [ fhir:value "FamilienHausarzt"];
  fhir:Practitioner.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "urn:oid:2.51.1.3" ];
     fhir:Identifier.value [ fhir:value "7601000234438" ]
  ];
  fhir:Practitioner.name [
     fhir:index 0;
     fhir:HumanName.family [ fhir:value "Hausarzt" ];
     fhir:HumanName.given [
       fhir:value "Familien";
       fhir:index 0
     ]
  ] .

<http://test.fhir.ch/r4/Organization/Hausarzt> a fhir:Organization;
  fhir:Resource.id [ fhir:value "Hausarzt"];
  fhir:Organization.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "urn:oid:2.51.1.3" ];
     fhir:Identifier.value [ fhir:value "7601000234438" ]
  ];
  fhir:Organization.name [ fhir:value "Hausarzt"];
  fhir:Organization.telecom [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/iso21090-nullFlavor" ];
       fhir:Extension.valueCode [ fhir:value "NI" ]
     ]
  ];
  fhir:Organization.address [
     fhir:index 0;
     fhir:Address.line [
       fhir:value "Krankenstrasse 2";
       fhir:index 0
     ];
     fhir:Address.city [ fhir:value "Zürich" ];
     fhir:Address.postalCode [ fhir:value "8005" ];
     fhir:Address.country [ fhir:value "CH" ]
  ] .

<http://test.fhir.ch/r4/Organization/Custodian> a fhir:Organization;
  fhir:Resource.id [ fhir:value "Custodian"];
  fhir:Organization.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "urn:oid:2.51.1.3" ];
     fhir:Identifier.value [ fhir:value "7601000234438" ]
  ];
  fhir:Organization.name [ fhir:value "Hausarzt"] .

<http://test.fhir.ch/r4/Patient/MonikaWegmuellerRecipient> a fhir:Patient;
  fhir:Resource.id [ fhir:value "MonikaWegmuellerRecipient"];
  fhir:Patient.name [
     fhir:index 0;
     fhir:HumanName.family [ fhir:value "Wegmüller" ];
     fhir:HumanName.given [
       fhir:value "Monika";
       fhir:index 0
     ]
  ];
  fhir:Patient.address [
     fhir:index 0;
     fhir:Address.line [
       fhir:value "Wiesenstr. 12";
       fhir:index 0
     ];
     fhir:Address.city [ fhir:value "Zürich" ];
     fhir:Address.postalCode [ fhir:value "8003" ];
     fhir:Address.country [ fhir:value "CH" ]
  ] .

<http://test.fhir.ch/r4/MedicationStatement/2-3-MedStatBeloczok> a fhir:MedicationStatement;
  fhir:Resource.id [ fhir:value "2-3-MedStatBeloczok"];
  fhir:DomainResource.contained [
     a fhir:Medication;
     fhir:index 0;
     fhir:Resource.id [ fhir:value "med" ];
     fhir:Medication.code [
       fhir:Element.extension [
         fhir:index 0;
         fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/narrativeLink" ];
         fhir:Extension.valueUrl [ fhir:value "#mtp.1.brandedmedication" ]
       ];
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "urn:oid:2.51.1.1" ];
         fhir:Coding.code [ fhir:value "7680521101306" ];
         fhir:Coding.display [ fhir:value "BELOC ZOK Ret Tabl 50 mg 30 Stk" ]
       ];
       fhir:CodeableConcept.text [ fhir:value "BELOC ZOK Ret Tabl 50 mg" ]
     ];
     fhir:Medication.form [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "urn:oid:0.4.0.127.0.16.1.1.2.1" ];
         fhir:Coding.code [ fhir:value "10219000" ];
         fhir:Coding.display [ fhir:value "Tablet" ]
       ]
     ];
     fhir:Medication.amount [
       fhir:Ratio.numerator [
         fhir:Quantity.value [ fhir:value "30"^^xsd:decimal ]
       ];
       fhir:Ratio.denominator [
         fhir:Quantity.value [ fhir:value "1"^^xsd:decimal ]
       ]
     ];
     fhir:Medication.ingredient [
       fhir:index 0;
       fhir:Medication.ingredient.itemCodeableConcept [
         fhir:CodeableConcept.coding [
           fhir:index 0;
           a sct:372826007;
           fhir:Coding.system [ fhir:value "http://snomed.info/sct" ];
           fhir:Coding.code [ fhir:value "372826007" ];
           fhir:Coding.display [ fhir:value "Metoprolol (substance)" ]
         ];
         fhir:CodeableConcept.text [ fhir:value "Metoprolol" ]
       ];
       fhir:Medication.ingredient.strength [
         fhir:Ratio.numerator [
           fhir:Quantity.value [ fhir:value "50"^^xsd:decimal ];
           fhir:Quantity.unit [ fhir:value "mg" ]
         ];
         fhir:Ratio.denominator [
           fhir:Quantity.value [ fhir:value "1"^^xsd:decimal ]
         ]
       ]
     ]
  ];
  fhir:DomainResource.extension [
     fhir:index 0;
     fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/narrativeLink" ];
     fhir:Extension.valueUrl [ fhir:value "#mtp.1" ]
  ];
  fhir:MedicationStatement.identifier [
     fhir:index 0;
     fhir:Identifier.system [ fhir:value "urn:ietf:rfc:3986" ];
     fhir:Identifier.value [ fhir:value "urn:uuid:17931678-20b4-11e6-b67b-9e71128cca77" ]
  ];
  fhir:MedicationStatement.status [ fhir:value "completed"];
  fhir:MedicationStatement.medicationReference [
     fhir:Reference.reference [ fhir:value "#med" ]
  ];
  fhir:MedicationStatement.subject [
     fhir:link <http://chmed20af.emediplan.ch/fhir/Patient/MonikaWegmueller>;
     fhir:Reference.reference [ fhir:value "Patient/MonikaWegmueller" ]
  ];
  fhir:MedicationStatement.reasonCode [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/narrativeLink" ];
       fhir:Extension.valueUrl [ fhir:value "#mtp.1.reason" ]
     ];
     fhir:CodeableConcept.text [ fhir:value "Bluthochdruck" ]
  ];
  fhir:MedicationStatement.note [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/narrativeLink" ];
       fhir:Extension.valueUrl [ fhir:value "#mtp.1.note" ]
     ];
     fhir:Annotation.text [ fhir:value "-" ]
  ];
  fhir:MedicationStatement.dosage [
     fhir:index 0;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://hl7.org/fhir/StructureDefinition/narrativeLink" ];
       fhir:Extension.valueUrl [ fhir:value "#mtp.1.dosageintakemode" ]
     ];
     fhir:Dosage.text [ fhir:value "Morgens 1 und abends 1/2 Tablette nehmen" ]
  ], [
     fhir:index 1;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-emed/StructureDefinition/ch-emed-ext-dosagetype" ];
       fhir:Extension.valueIdentifier [
         fhir:Identifier.value [ fhir:value "1.3.6.1.4.1.19376.1.5.3.1.4.9" ]
       ]
     ];
     fhir:Dosage.sequence [ fhir:value "1"^^xsd:integer ];
     fhir:Dosage.timing [
       fhir:Timing.repeat [
         fhir:Timing.repeat.boundsPeriod [
           fhir:Period.start [ fhir:value "2012-02-04"^^xsd:date ]
         ];
         fhir:Timing.repeat.when [
           fhir:value "ACM";
           fhir:index 0
         ]
       ]
     ];
     fhir:Dosage.route [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "urn:oid:0.4.0.127.0.16.1.1.2.1" ];
         fhir:Coding.code [ fhir:value "20053000" ];
         fhir:Coding.display [ fhir:value "Oral use" ]
       ]
     ];
     fhir:Dosage.doseAndRate [
       fhir:index 0;
       fhir:Dosage.doseAndRate.doseQuantity [
         fhir:Quantity.value [ fhir:value "1"^^xsd:decimal ]
       ]
     ]
  ], [
     fhir:index 2;
     fhir:Element.extension [
       fhir:index 0;
       fhir:Extension.url [ fhir:value "http://fhir.ch/ig/ch-emed/StructureDefinition/ch-emed-ext-dosagetype" ];
       fhir:Extension.valueIdentifier [
         fhir:Identifier.value [ fhir:value "1.3.6.1.4.1.19376.1.5.3.1.4.9" ]
       ]
     ];
     fhir:Dosage.sequence [ fhir:value "2"^^xsd:integer ];
     fhir:Dosage.timing [
       fhir:Timing.repeat [
         fhir:Timing.repeat.boundsPeriod [
           fhir:Period.start [ fhir:value "2012-02-04"^^xsd:date ]
         ];
         fhir:Timing.repeat.when [
           fhir:value "ACV";
           fhir:index 0
         ]
       ]
     ];
     fhir:Dosage.route [
       fhir:CodeableConcept.coding [
         fhir:index 0;
         fhir:Coding.system [ fhir:value "urn:oid:0.4.0.127.0.16.1.1.2.1" ];
         fhir:Coding.code [ fhir:value "20053000" ];
         fhir:Coding.display [ fhir:value "Oral use" ]
       ]
     ];
     fhir:Dosage.doseAndRate [
       fhir:index 0;
       fhir:Dosage.doseAndRate.doseQuantity [
         fhir:Quantity.value [ fhir:value "0.5"^^xsd:decimal ]
       ]
     ]
  ] .

# - ontology header ------------------------------------------------------------

<http://chmed20af.emediplan.ch/fhir/Parameters/BeloczokMTP-Input-Analyzer.ttl> a owl:Ontology;
  owl:imports fhir:fhir.ttl .

# -------------------------------------------------------------------------------------

