<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Sequence Diagrams - CH EPR FHIR (R4) v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
  	<link href="assets/css/cqf.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7.css" rel="stylesheet"/>
    <link href="assets/css/fhir.css" rel="stylesheet"/>

    <style>
    
    .navbar-inverse {
        background-color: #144b8a;
    }   

    #segment-footer .container {
      background-color: #144b8a;
    }
    

    

    
    #ig-status {
      color: #4fa2da;
    } 
    

    </style>
 

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>
    <script type="text/javascript" src="assets/js/mermaid.js"></script>
    <script type="text/javascript" src="assets/js/mermaid-init.js"></script>
    <style type="text/css">h2{--heading-prefix:"4.6"}
    h3,h4,h5,h6{--heading-prefix:"4.6"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

            <!--
<div id="family-nav">
	<a id="logo" no-external="true" href="http://hl7.org/fhir"> <img
		alt="logo fhir" src="assets/images/fhir-logo-www.png" />
	</a>
</div>
-->


            <div id="family-nav">
                <a id="logo" no-external="true" href="searchform.html">
                    <img src="assets/images/search.png" alt="Search FHIR" />
                </a>
            </div>
            <div id="hl7-nav">
    <a id="ehealthsuisse-logo" no-external="true" href="https://www.e-health-suisse.ch">
        <img alt="visit the e-health-suisse website" height="60" src="assets/images/LogoDE_ehealthsuisse.svg" />
    </a>            
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">CH EPR FHIR (R4)</span>
            <br/>
            <span style="display:inline-block;">4.0.1 - trial-use



  <img alt="Switzerland flag" src="assets/images/che.svg" height="16" title="Switzerland"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
    <li>
        <a href="index.html">Home</a>
    </li>
    <li class="Profiles">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="iti-iua.html">Internet User Authorization (IUA)</a>
            </li>
            <li>
                <a href="iti-pdqm.html">Patient Demographics Query for mobile (PDQm)</a>
            </li>
            <li>
                <a href="iti-pixm.html">Patient Identifier Cross-referencing for mobile (PIXm)</a>
            </li>
            <li>
                <a href="iti-mhd.html">Mobile Access to Health Documents (MHD)</a>
            </li>
            <li>
                <a href="iti-restful-atna.html">RESTful ATNA</a>
            </li>
            <li>
                <a href="iti-mcsd.html">Mobile Care Services Discovery (mCSD)</a>
            </li>
            <li>
                <a href="ppqm.html">Privacy Policy Query for Mobile (CH:PPQm)</a>
            </li>
        </ul>
    </li>
    <li class="dropdown">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="iti-103.html">Get Authorization Server Metadata [ITI-103]</a>
            </li>
            <li>
                <a href="iti-71.html">Get Access Token [ITI-71]</a>
            </li>
            <li>
                <a href="iti-104.html">Patient Identity Feed FHIR [ITI-104]</a>
            </li>
            <li>
                <a href="iti-119.html">Patient Demographics Match [ITI-119]</a>
            </li>
            <li>
                <a href="iti-83.html">Mobile Patient Identifier Cross-reference Query [ITI-83]</a>
            </li>
            <li>
                <a href="iti-65.html">Provide Document Bundle [ITI-65]</a>
            </li>
            <li>
                <a href="iti-67.html">Find Document References [ITI-67]</a>
            </li>
            <li>
                <a href="iti-68.html">Retrieve Document [ITI-68]</a>
            </li>
            <li>
                <a href="ch-mhd-1.html">Update Document Metadata [CH:MHD-1]</a>
            </li>
            <li>
                <a href="iti-20.html">Record Audit Event [ITI-20]</a>
            </li>
            <li>
                <a href="iti-90.html">Find Matching Care Services [ITI-90]</a>
            </li>
            <li>
                <a href="ch-mcsd-1.html">Care Services Feed [CH:mCSD-1]</a>
            </li>
            <li>
                <a href="ppq-3.html">Mobile Privacy Policy Feed [PPQ-3]</a>
            </li>
            <li>
                <a href="ppq-4.html">Mobile Privacy Policy Bundle Feed [PPQ-4]</a>
            </li>
            <li>
                <a href="ppq-5.html">Mobile Privacy Policy Retrieve [PPQ-5]</a>
            </li>
        </ul>
    </li>
    <li class="dropdown">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Appendix
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="profiles.html">Profiles</a>
            </li>
            <li>
                <a href="extensions.html">Extensions</a>
            </li>
            <li>
                <a href="terminology.html">Terminology</a>
            </li>
            <li>
                <a href="capstatements.html">Capability Statements</a>
            </li>
            <li>
                <a href="operations.html">Operations</a>
            </li>
            <li>
                <a href="sequencediagrams.html">Sequence diagrams</a>
            </li>
            <li>
                <a href="tracecontext.html">Trace Context</a>
            </li>
            <li>
                <a href="changelog.html">Open Issues / Change Log</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="artifacts.html">Artifacts</a>
    </li>
</ul>

            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><a href='appendix.html'><b>Appendix</b></a></li><li><b>Sequence Diagrams</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the CH EPR FHIR (R4) (v4.0.1: <a no-external="true" href="https://confluence.hl7.org/display/HL7/HL7+Balloting" title="Draft Standard for Trial-Use">DSTU</a> 4) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version in its permanent home (it will always be available at this URL).  For a full list of available versions, see the <a no-external="true" href="http://fhir.ch/ig/ch-epr-fhir/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Sequence Diagrams</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#patient-access-from-a-portal" id="markdown-toc-patient-access-from-a-portal">Patient access from a portal</a></li>
  <li><a href="#user-access-from-an-integrated-primary-system-to-read-documents" id="markdown-toc-user-access-from-an-integrated-primary-system-to-read-documents">User Access from an integrated Primary System to read documents</a></li>
  <li><a href="#user-access-from-an-integrated-primary-system-to-publish-documents" id="markdown-toc-user-access-from-an-integrated-primary-system-to-publish-documents">User Access from an integrated Primary System to publish documents</a></li>
  <li><a href="#writing-documents-from-clinical-archives" id="markdown-toc-writing-documents-from-clinical-archives">Writing documents from clinical archives</a></li>
  <li><a href="#patient-get-document--smart-on-fhir-option-ehr-launch" id="markdown-toc-patient-get-document--smart-on-fhir-option-ehr-launch">Patient: get document – SMART on FHIR option (EHR Launch)</a></li>
  <li><a href="#healthcare-professional-get-document--smart-on-fhir-option-ehr-launch" id="markdown-toc-healthcare-professional-get-document--smart-on-fhir-option-ehr-launch">Healthcare professional: get document – SMART on FHIR option (EHR Launch)</a></li>
</ul>

</div>
<p>Sample sequence diagrams to illustrate the usage of the <em>generic EPR API</em> and <em>SMART on FHIR</em> options for reading 
documents as a patient or healthcare professional:</p>

<h3 id="patient-access-from-a-portal">Patient access from a portal</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1452 1174" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="1162.9688" style="stroke:#181818;stroke-width:0.5;" width="616" x="111.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="368.5" y="19.0669">Patient Portal</text><rect fill="#FFEFDE" height="1162.9688" style="stroke:#181818;stroke-width:0.5;" width="509.5" x="806.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="970.75" y="19.0669">Community Components</text><rect fill="#DFF3F7" height="1162.9688" style="stroke:#181818;stroke-width:0.5;" width="128" x="1318" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1370" y="19.0669">IdP</text><rect fill="#FFFFFF" height="943.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="126.1563" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="338" y="820.6094" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="338" y="945.1406" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="494.5" y="511.0156" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="643.5" y="219.5547" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="643.5" y="665.8125" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="557.2813" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="157.2891" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="265.8203" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="712.0781" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="851.7422" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="976.2734" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377" y="296.9531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="150.5" x2="150.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="342.5" x2="342.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="499.5" x2="499.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="648.5" x2="648.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="874.5" x2="874.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1025.5" x2="1025.5" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1227" x2="1227" y1="93.0234" y2="1087.6719" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1382" x2="1382" y1="93.0234" y2="1087.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="6" y="88.7217">Patient</text><ellipse cx="33" cy="23.2266" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M33,31.2266 L33,58.2266 M20,39.2266 L46,39.2266 M33,58.2266 L20,73.2266 M33,58.2266 L46,73.2266 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="6" y="1100.667">Patient</text><ellipse cx="33" cy="1113.4688" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M33,1121.4688 L33,1148.4688 M20,1129.4688 L46,1129.4688 M33,1148.4688 L20,1163.4688 M33,1148.4688 L46,1163.4688 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="115.5" y="59.7266" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="123.5" y="80.7217">App GUI</text><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="115.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="123.5" y="1107.667">App GUI</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="260.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="268.5" y="64.4248">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="321.5" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="260.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="268.5" y="1107.667">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="321.5" y="1123.9639">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="435.5" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="444" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="443.5" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="463.5" y="80.7217">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="435.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="444" y="1107.667">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="443.5" y="1123.9639">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="463.5" y="1140.2607">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="573.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="581.5" y="64.4248">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="632.5" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="573.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="581.5" y="1107.667">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="632.5" y="1123.9639">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="810.5" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="819" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="818.5" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="848.5" y="80.7217">Manger</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="810.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="819" y="1107.667">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="818.5" y="1123.9639">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="848.5" y="1140.2607">Manger</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="948.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="956.5" y="64.4248">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1010" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="948.5" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="956.5" y="1107.667">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1010" y="1123.9639">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1142" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1150" y="64.4248">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1205.5" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1142" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1150" y="1107.667">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1205.5" y="1123.9639">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1322" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1364" y="48.1279">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1330" y="64.4248">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1354" y="80.7217">Provider</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1322" y="1086.6719" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1364" y="1107.667">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1330" y="1123.9639">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1354" y="1140.2607">Provider</text><rect fill="#FFFFFF" height="943.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="146" y="126.1563" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="338" y="820.6094" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="338" y="945.1406" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="494.5" y="511.0156" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="643.5" y="219.5547" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="643.5" y="665.8125" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="869.5" y="557.2813" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="157.2891" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="265.8203" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1021" y="712.0781" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="851.7422" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1222" y="976.2734" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1377" y="296.9531" /><polygon fill="#000000" points="134,122.1563,144,126.1563,134,130.1563,138,126.1563" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="33" x2="140" y1="126.1563" y2="126.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="41" y="120.0903">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="77" y="120.0903">read doc</text><polygon fill="#181818" points="1009,153.2891,1019,157.2891,1009,161.2891,1013,157.2891" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="1015" y1="157.2891" y2="157.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="151.2231">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="200" y="151.2231">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="167,184.4219,157,188.4219,167,192.4219,163,188.4219" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="161" x2="1025" y1="188.4219" y2="188.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="174" y="182.356">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="210" y="182.356">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="631.5,215.5547,641.5,219.5547,631.5,223.5547,635.5,219.5547" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="156" x2="637.5" y1="219.5547" y2="219.5547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="213.4888">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="200" y="213.4888">Get Access Token</text><polygon fill="#181818" points="1009,261.8203,1019,265.8203,1009,269.8203,1013,265.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="653.5" x2="1015" y1="265.8203" y2="265.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="661.5" y="252.188">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="697.5" y="244.6216">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="697.5" y="259.7544">[Basic access token]</text><polygon fill="#181818" points="1365,292.9531,1375,296.9531,1365,300.9531,1369,296.9531" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1031" x2="1371" y1="296.9531" y2="296.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1039" y="290.8872">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1075" y="290.8872">Authenticate User</text><polygon fill="#181818" points="1042,324.0859,1032,328.0859,1042,332.0859,1038,328.0859" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1036" x2="1381" y1="328.0859" y2="328.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1049" y="322.02">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1085" y="322.02">&#160;</text><line style="stroke:#000000;stroke-width:1.0;" x1="1031" x2="1073" y1="359.2188" y2="359.2188" /><line style="stroke:#000000;stroke-width:1.0;" x1="1073" x2="1073" y1="359.2188" y2="372.2188" /><line style="stroke:#000000;stroke-width:1.0;" x1="1032" x2="1073" y1="372.2188" y2="372.2188" /><polygon fill="#000000" points="1042,368.2188,1032,372.2188,1042,376.2188,1038,372.2188" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1039" y="353.1528">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1075" y="353.1528">Authorize App Access</text><polygon fill="#181818" points="664.5,414.4844,654.5,418.4844,664.5,422.4844,660.5,418.4844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="658.5" x2="1025" y1="418.4844" y2="418.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="671.5" y="404.8521">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="707.5" y="397.2856">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="707.5" y="412.4185">[Basic access token]</text><polygon fill="#000000" points="167,445.6172,157,449.6172,167,453.6172,163,449.6172" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="161" x2="647.5" y1="449.6172" y2="449.6172" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="174" y="443.5513">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="210" y="443.5513">&#160;</text><polygon fill="#000000" points="482.5,507.0156,492.5,511.0156,482.5,515.0156,486.5,511.0156" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="156" x2="488.5" y1="511.0156" y2="511.0156" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="489.8169">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="200" y="474.6841">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="200" y="489.8169">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="200" y="504.9497">ID and access token</text><polygon fill="#181818" points="857.5,553.2813,867.5,557.2813,857.5,561.2813,861.5,557.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="504.5" x2="863.5" y1="557.2813" y2="557.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="512.5" y="543.6489">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="548.5" y="536.0825">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="548.5" y="551.2153">Query [local ID] together with access token</text><polygon fill="#181818" points="515.5,599.5469,505.5,603.5469,515.5,607.5469,511.5,603.5469" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="509.5" x2="873.5" y1="603.5469" y2="603.5469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="522.5" y="589.9146">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="558.5" y="582.3481">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="558.5" y="597.481">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="167,630.6797,157,634.6797,167,638.6797,163,634.6797" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="161" x2="498.5" y1="634.6797" y2="634.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="174" y="628.6138">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="210" y="628.6138">&#160;</text><polygon fill="#000000" points="631.5,661.8125,641.5,665.8125,631.5,669.8125,635.5,665.8125" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="156" x2="637.5" y1="665.8125" y2="665.8125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="659.7466">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="200" y="659.7466">Get Access Token</text><polygon fill="#181818" points="1009,708.0781,1019,712.0781,1009,716.0781,1013,712.0781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="653.5" x2="1015" y1="712.0781" y2="712.0781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="661.5" y="698.4458">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="697.5" y="690.8794">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="697.5" y="706.0122">[Extended access token]</text><polygon fill="#181818" points="664.5,754.3438,654.5,758.3438,664.5,762.3438,660.5,758.3438" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="658.5" x2="1025" y1="758.3438" y2="758.3438" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="671.5" y="744.7114">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="707.5" y="737.145">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="707.5" y="752.2778">[Extended access token]</text><polygon fill="#000000" points="167,785.4766,157,789.4766,167,793.4766,163,789.4766" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="161" x2="647.5" y1="789.4766" y2="789.4766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="174" y="783.4106">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="210" y="783.4106">&#160;</text><polygon fill="#181818" points="326,816.6094,336,820.6094,326,824.6094,330,820.6094" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="332" y1="820.6094" y2="820.6094" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="814.5435">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="200" y="814.5435">query documents</text><polygon fill="#000000" points="1210,847.7422,1220,851.7422,1210,855.7422,1214,851.7422" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="348" x2="1216" y1="851.7422" y2="851.7422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="356" y="845.6763">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="392" y="845.6763">query documents [ITI-67]</text><polygon fill="#000000" points="359,878.875,349,882.875,359,886.875,355,882.875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="353" x2="1226" y1="882.875" y2="882.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="366" y="876.8091">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="402" y="876.8091">&#160;</text><polygon fill="#181818" points="331,910.0078,341,914.0078,331,918.0078,335,914.0078" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="337" y1="914.0078" y2="914.0078" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="907.9419">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="200" y="907.9419">&#160;</text><polygon fill="#181818" points="326,941.1406,336,945.1406,326,949.1406,330,945.1406" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="332" y1="945.1406" y2="945.1406" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="939.0747">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="200" y="939.0747">retrieve documents</text><polygon fill="#000000" points="1210,972.2734,1220,976.2734,1210,980.2734,1214,976.2734" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="348" x2="1216" y1="976.2734" y2="976.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="356" y="970.2075">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="392" y="970.2075">retrieve document [ITI-68]</text><polygon fill="#000000" points="359,1003.4063,349,1007.4063,359,1011.4063,355,1007.4063" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="353" x2="1226" y1="1007.4063" y2="1007.4063" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="366" y="1001.3403">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="402" y="1001.3403">&#160;</text><polygon fill="#181818" points="331,1034.5391,341,1038.5391,331,1042.5391,335,1038.5391" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="156" x2="337" y1="1038.5391" y2="1038.5391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="164" y="1032.4731">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="200" y="1032.4731">&#160;</text><polygon fill="#000000" points="44,1065.6719,34,1069.6719,44,1073.6719,40,1069.6719" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="38" x2="150" y1="1069.6719" y2="1069.6719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="51" y="1063.606">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="87" y="1063.606">&#160;</text></g></svg></div>

<h3 id="user-access-from-an-integrated-primary-system-to-read-documents">User Access from an integrated Primary System to read documents</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1470 1197" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="1185.8359" style="stroke:#181818;stroke-width:0.5;" width="616" x="129.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="366" x="254.5" y="19.0669">Healthcare Professional Portal or Primary System</text><rect fill="#FFEFDE" height="1185.8359" style="stroke:#181818;stroke-width:0.5;" width="509.5" x="824.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="988.75" y="19.0669">Community Components</text><rect fill="#DFF3F7" height="1185.8359" style="stroke:#181818;stroke-width:0.5;" width="128" x="1336" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1388" y="19.0669">IdP</text><rect fill="#FFFFFF" height="943.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="164" y="132.7266" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="827.1797" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="951.7109" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="512.5" y="517.5859" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="661.5" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="661.5" y="672.3828" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="887.5" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="718.6484" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1240" y="858.3125" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1240" y="982.8438" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1395" y="303.5234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="168.5" x2="168.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="360.5" x2="360.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="517.5" x2="517.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="666.5" x2="666.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="892.5" x2="892.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1043.5" x2="1043.5" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1245" x2="1245" y1="99.5938" y2="1094.2422" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1400" x2="1400" y1="99.5938" y2="1094.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="78.9951">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="95.292">Professional</text><ellipse cx="51" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,21.5 L51,48.5 M38,29.5 L64,29.5 M51,48.5 L38,63.5 M51,48.5 L64,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="1107.2373">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="1123.5342">Professional</text><ellipse cx="51" cy="1136.3359" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,1144.3359 L51,1171.3359 M38,1152.3359 L64,1152.3359 M51,1171.3359 L38,1186.3359 M51,1171.3359 L64,1186.3359 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="133.5" y="66.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="141.5" y="87.292">App GUI</text><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="133.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="141.5" y="1114.2373">App GUI</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="278.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="286.5" y="70.9951">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="339.5" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="278.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="286.5" y="1114.2373">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="339.5" y="1130.5342">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="453.5" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="462" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="461.5" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="481.5" y="87.292">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="453.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="462" y="1114.2373">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="461.5" y="1130.5342">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="481.5" y="1146.8311">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="591.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="599.5" y="70.9951">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="650.5" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="591.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="599.5" y="1114.2373">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="650.5" y="1130.5342">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="828.5" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="837" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="836.5" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="866.5" y="87.292">Manger</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="828.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="837" y="1114.2373">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="836.5" y="1130.5342">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="866.5" y="1146.8311">Manger</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="966.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="974.5" y="70.9951">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1028" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="966.5" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="974.5" y="1114.2373">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1028" y="1130.5342">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1160" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1168" y="70.9951">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1223.5" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1160" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1168" y="1114.2373">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1223.5" y="1130.5342">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1340" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1382" y="54.6982">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1348" y="70.9951">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1372" y="87.292">Provider</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1340" y="1093.2422" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1382" y="1114.2373">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1348" y="1130.5342">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1372" y="1146.8311">Provider</text><rect fill="#FFFFFF" height="943.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="164" y="132.7266" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="827.1797" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="356" y="951.7109" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="512.5" y="517.5859" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="661.5" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="661.5" y="672.3828" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="887.5" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1039" y="718.6484" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1240" y="858.3125" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1240" y="982.8438" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1395" y="303.5234" /><polygon fill="#000000" points="152,128.7266,162,132.7266,152,136.7266,156,132.7266" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="158" y1="132.7266" y2="132.7266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="59" y="126.6606">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="95" y="126.6606">read doc</text><polygon fill="#181818" points="1027,159.8594,1037,163.8594,1027,167.8594,1031,163.8594" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="1033" y1="163.8594" y2="163.8594" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="157.7935">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="218" y="157.7935">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="185,190.9922,175,194.9922,185,198.9922,181,194.9922" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="179" x2="1043" y1="194.9922" y2="194.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="192" y="188.9263">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="228" y="188.9263">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="649.5,222.125,659.5,226.125,649.5,230.125,653.5,226.125" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="174" x2="655.5" y1="226.125" y2="226.125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="220.0591">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="218" y="220.0591">Get Access Token</text><polygon fill="#181818" points="1027,268.3906,1037,272.3906,1027,276.3906,1031,272.3906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="671.5" x2="1033" y1="272.3906" y2="272.3906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="679.5" y="258.7583">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="715.5" y="251.1919">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="715.5" y="266.3247">[Basic access token]</text><polygon fill="#181818" points="1383,299.5234,1393,303.5234,1383,307.5234,1387,303.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1049" x2="1389" y1="303.5234" y2="303.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1057" y="297.4575">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1093" y="297.4575">Authenticate User</text><polygon fill="#181818" points="1060,330.6563,1050,334.6563,1060,338.6563,1056,334.6563" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1054" x2="1399" y1="334.6563" y2="334.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1067" y="328.5903">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1103" y="328.5903">&#160;</text><line style="stroke:#000000;stroke-width:1.0;" x1="1049" x2="1091" y1="365.7891" y2="365.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1091" x2="1091" y1="365.7891" y2="378.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1050" x2="1091" y1="378.7891" y2="378.7891" /><polygon fill="#000000" points="1060,374.7891,1050,378.7891,1060,382.7891,1056,378.7891" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1057" y="359.7231">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1093" y="359.7231">Authorize App Access</text><polygon fill="#181818" points="682.5,421.0547,672.5,425.0547,682.5,429.0547,678.5,425.0547" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="1043" y1="425.0547" y2="425.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="689.5" y="411.4224">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="725.5" y="403.856">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="725.5" y="418.9888">[Basic access token]</text><polygon fill="#000000" points="185,452.1875,175,456.1875,185,460.1875,181,456.1875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="179" x2="665.5" y1="456.1875" y2="456.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="192" y="450.1216">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="228" y="450.1216">&#160;</text><polygon fill="#000000" points="500.5,513.5859,510.5,517.5859,500.5,521.5859,504.5,517.5859" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="174" x2="506.5" y1="517.5859" y2="517.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="496.3872">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="218" y="481.2544">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="218" y="496.3872">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="218" y="511.52">ID and access token</text><polygon fill="#181818" points="875.5,559.8516,885.5,563.8516,875.5,567.8516,879.5,563.8516" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="522.5" x2="881.5" y1="563.8516" y2="563.8516" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="530.5" y="550.2192">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="566.5" y="542.6528">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="566.5" y="557.7856">Query [local ID] together with access token</text><polygon fill="#181818" points="533.5,606.1172,523.5,610.1172,533.5,614.1172,529.5,610.1172" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="527.5" x2="891.5" y1="610.1172" y2="610.1172" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="540.5" y="596.4849">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="576.5" y="588.9185">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="576.5" y="604.0513">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="185,637.25,175,641.25,185,645.25,181,641.25" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="179" x2="516.5" y1="641.25" y2="641.25" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="192" y="635.1841">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="228" y="635.1841">&#160;</text><polygon fill="#000000" points="649.5,668.3828,659.5,672.3828,649.5,676.3828,653.5,672.3828" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="174" x2="655.5" y1="672.3828" y2="672.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="666.3169">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="218" y="666.3169">Get Access Token</text><polygon fill="#181818" points="1027,714.6484,1037,718.6484,1027,722.6484,1031,718.6484" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="671.5" x2="1033" y1="718.6484" y2="718.6484" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="679.5" y="705.0161">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="715.5" y="697.4497">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="715.5" y="712.5825">[Extended access token]</text><polygon fill="#181818" points="682.5,760.9141,672.5,764.9141,682.5,768.9141,678.5,764.9141" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="676.5" x2="1043" y1="764.9141" y2="764.9141" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="689.5" y="751.2817">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="725.5" y="743.7153">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="725.5" y="758.8481">[Extended access token]</text><polygon fill="#000000" points="185,792.0469,175,796.0469,185,800.0469,181,796.0469" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="179" x2="665.5" y1="796.0469" y2="796.0469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="192" y="789.981">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="228" y="789.981">&#160;</text><polygon fill="#181818" points="344,823.1797,354,827.1797,344,831.1797,348,827.1797" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="350" y1="827.1797" y2="827.1797" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="821.1138">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="218" y="821.1138">query documents</text><polygon fill="#000000" points="1228,854.3125,1238,858.3125,1228,862.3125,1232,858.3125" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="366" x2="1234" y1="858.3125" y2="858.3125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="374" y="852.2466">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="410" y="852.2466">query documents [ITI-67]</text><polygon fill="#000000" points="377,885.4453,367,889.4453,377,893.4453,373,889.4453" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="371" x2="1244" y1="889.4453" y2="889.4453" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="384" y="883.3794">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="420" y="883.3794">&#160;</text><polygon fill="#181818" points="349,916.5781,359,920.5781,349,924.5781,353,920.5781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="355" y1="920.5781" y2="920.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="914.5122">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="218" y="914.5122">&#160;</text><polygon fill="#181818" points="344,947.7109,354,951.7109,344,955.7109,348,951.7109" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="350" y1="951.7109" y2="951.7109" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="945.645">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="218" y="945.645">retrieve documents</text><polygon fill="#000000" points="1228,978.8438,1238,982.8438,1228,986.8438,1232,982.8438" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="366" x2="1234" y1="982.8438" y2="982.8438" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="374" y="976.7778">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="410" y="976.7778">retrieve document [ITI-68]</text><polygon fill="#000000" points="377,1009.9766,367,1013.9766,377,1017.9766,373,1013.9766" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="371" x2="1244" y1="1013.9766" y2="1013.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="384" y="1007.9106">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="420" y="1007.9106">&#160;</text><polygon fill="#181818" points="349,1041.1094,359,1045.1094,349,1049.1094,353,1045.1094" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="174" x2="355" y1="1045.1094" y2="1045.1094" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="1039.0435">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="218" y="1039.0435">&#160;</text><polygon fill="#000000" points="62,1072.2422,52,1076.2422,62,1080.2422,58,1076.2422" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="56" x2="168" y1="1076.2422" y2="1076.2422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="69" y="1070.1763">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="105" y="1070.1763">&#160;</text></g></svg></div>

<h3 id="user-access-from-an-integrated-primary-system-to-publish-documents">User Access from an integrated Primary System to publish documents</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1442 1119" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="1107.0469" style="stroke:#181818;stroke-width:0.5;" width="593.5" x="130.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="366" x="244.25" y="19.0669">Healthcare Professional Portal or Primary System</text><rect fill="#FFEFDE" height="1107.0469" style="stroke:#181818;stroke-width:0.5;" width="503.5" x="803" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="964.25" y="19.0669">Community Components</text><rect fill="#DFF3F7" height="1107.0469" style="stroke:#181818;stroke-width:0.5;" width="128" x="1308.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1360.5" y="19.0669">IdP</text><rect fill="#FFFFFF" height="864.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="165" y="132.7266" /><rect fill="#FFFFFF" height="139.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="346" y="827.1797" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="491" y="517.5859" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="640" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="640" y="672.3828" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="866" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="718.6484" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1218.5" y="897.0547" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="303.5234" /><rect fill="none" height="94.0078" style="stroke:#000000;stroke-width:1.5;" width="1104" x="270" y="842.1797" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="169.5" x2="169.5" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="351" x2="351" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="496" x2="496" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="645" x2="645" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="871" x2="871" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1022" x2="1022" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1223.5" x2="1223.5" y1="99.5938" y2="1015.4531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1372.5" x2="1372.5" y1="99.5938" y2="1015.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="78.9951">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="95.292">Professional</text><ellipse cx="51" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,21.5 L51,48.5 M38,29.5 L64,29.5 M51,48.5 L38,63.5 M51,48.5 L64,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="1028.4482">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="1044.7451">Professional</text><ellipse cx="51" cy="1057.5469" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,1065.5469 L51,1092.5469 M38,1073.5469 L64,1073.5469 M51,1092.5469 L38,1107.5469 M51,1092.5469 L64,1107.5469 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="134.5" y="66.2969" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="142.5" y="87.292">App GUI</text><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="134.5" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="142.5" y="1035.4482">App GUI</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="280" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="288" y="70.9951">Document Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="329.5" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="280" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="288" y="1035.4482">Document Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="329.5" y="1051.7451">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="432" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="440.5" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="440" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="460" y="87.292">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="432" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="440.5" y="1035.4482">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="440" y="1051.7451">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="460" y="1068.042">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="570" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="578" y="70.9951">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="629" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="570" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="578" y="1035.4482">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="629" y="1051.7451">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="807" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="815.5" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="815" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="845" y="87.292">Manger</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="807" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="815.5" y="1035.4482">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="815" y="1051.7451">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="845" y="1068.042">Manger</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="945" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="953" y="70.9951">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1006.5" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="945" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="953" y="1035.4482">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1006.5" y="1051.7451">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1144.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1152.5" y="70.9951">Document Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1202" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1144.5" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1152.5" y="1035.4482">Document Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1202" y="1051.7451">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1312.5" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1354.5" y="54.6982">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1320.5" y="70.9951">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1344.5" y="87.292">Provider</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="120" x="1312.5" y="1014.4531" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1354.5" y="1035.4482">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1320.5" y="1051.7451">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1344.5" y="1068.042">Provider</text><rect fill="#FFFFFF" height="864.7266" style="stroke:#181818;stroke-width:1.0;" width="10" x="165" y="132.7266" /><rect fill="#FFFFFF" height="139.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="346" y="827.1797" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="491" y="517.5859" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="640" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="640" y="672.3828" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="866" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1017.5" y="718.6484" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1218.5" y="897.0547" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1367.5" y="303.5234" /><polygon fill="#000000" points="153,128.7266,163,132.7266,153,136.7266,157,132.7266" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="159" y1="132.7266" y2="132.7266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="59" y="126.6606">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="95" y="126.6606">write doc</text><polygon fill="#181818" points="1005.5,159.8594,1015.5,163.8594,1005.5,167.8594,1009.5,163.8594" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="175" x2="1011.5" y1="163.8594" y2="163.8594" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="157.7935">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="219" y="157.7935">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="186,190.9922,176,194.9922,186,198.9922,182,194.9922" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="180" x2="1021.5" y1="194.9922" y2="194.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="193" y="188.9263">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="229" y="188.9263">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="628,222.125,638,226.125,628,230.125,632,226.125" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="175" x2="634" y1="226.125" y2="226.125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="220.0591">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="219" y="220.0591">Get Access Token</text><polygon fill="#181818" points="1005.5,268.3906,1015.5,272.3906,1005.5,276.3906,1009.5,272.3906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="1011.5" y1="272.3906" y2="272.3906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="658" y="258.7583">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="694" y="251.1919">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="694" y="266.3247">[Basic access token]</text><polygon fill="#181818" points="1355.5,299.5234,1365.5,303.5234,1355.5,307.5234,1359.5,303.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1027.5" x2="1361.5" y1="303.5234" y2="303.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1035.5" y="297.4575">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1071.5" y="297.4575">Authenticate User</text><polygon fill="#181818" points="1038.5,330.6563,1028.5,334.6563,1038.5,338.6563,1034.5,334.6563" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1032.5" x2="1371.5" y1="334.6563" y2="334.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1045.5" y="328.5903">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1081.5" y="328.5903">&#160;</text><line style="stroke:#000000;stroke-width:1.0;" x1="1027.5" x2="1069.5" y1="365.7891" y2="365.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1069.5" x2="1069.5" y1="365.7891" y2="378.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1028.5" x2="1069.5" y1="378.7891" y2="378.7891" /><polygon fill="#000000" points="1038.5,374.7891,1028.5,378.7891,1038.5,382.7891,1034.5,378.7891" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1035.5" y="359.7231">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1071.5" y="359.7231">Authorize App Access</text><polygon fill="#181818" points="661,421.0547,651,425.0547,661,429.0547,657,425.0547" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="1021.5" y1="425.0547" y2="425.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="668" y="411.4224">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="704" y="403.856">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="704" y="418.9888">[Basic access token]</text><polygon fill="#000000" points="186,452.1875,176,456.1875,186,460.1875,182,456.1875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="180" x2="644" y1="456.1875" y2="456.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="193" y="450.1216">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="229" y="450.1216">&#160;</text><polygon fill="#000000" points="479,513.5859,489,517.5859,479,521.5859,483,517.5859" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="175" x2="485" y1="517.5859" y2="517.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="496.3872">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="219" y="481.2544">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="219" y="496.3872">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="219" y="511.52">ID and access token</text><polygon fill="#181818" points="854,559.8516,864,563.8516,854,567.8516,858,563.8516" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="501" x2="860" y1="563.8516" y2="563.8516" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="509" y="550.2192">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="545" y="542.6528">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="545" y="557.7856">Query [local ID] together with access token</text><polygon fill="#181818" points="512,606.1172,502,610.1172,512,614.1172,508,610.1172" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="506" x2="870" y1="610.1172" y2="610.1172" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="519" y="596.4849">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="555" y="588.9185">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="555" y="604.0513">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="186,637.25,176,641.25,186,645.25,182,641.25" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="180" x2="495" y1="641.25" y2="641.25" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="193" y="635.1841">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="229" y="635.1841">&#160;</text><polygon fill="#000000" points="628,668.3828,638,672.3828,628,676.3828,632,672.3828" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="175" x2="634" y1="672.3828" y2="672.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="666.3169">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="219" y="666.3169">Get Access Token</text><polygon fill="#181818" points="1005.5,714.6484,1015.5,718.6484,1005.5,722.6484,1009.5,718.6484" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="1011.5" y1="718.6484" y2="718.6484" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="658" y="705.0161">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="694" y="697.4497">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="694" y="712.5825">[Extended access token]</text><polygon fill="#181818" points="661,760.9141,651,764.9141,661,768.9141,657,764.9141" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="1021.5" y1="764.9141" y2="764.9141" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="668" y="751.2817">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="704" y="743.7153">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="704" y="758.8481">[Extended access token]</text><polygon fill="#000000" points="186,792.0469,176,796.0469,186,800.0469,182,796.0469" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="180" x2="644" y1="796.0469" y2="796.0469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="193" y="789.981">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="229" y="789.981">&#160;</text><polygon fill="#181818" points="334,823.1797,344,827.1797,334,831.1797,338,827.1797" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="175" x2="340" y1="827.1797" y2="827.1797" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="821.1138">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="219" y="821.1138">publish document</text><path d="M270,842.1797 L349,842.1797 L349,851.3125 L339,861.3125 L270,861.3125 L270,842.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="94.0078" style="stroke:#000000;stroke-width:1.5;" width="1104" x="270" y="842.1797" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="286" y="856.2466">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="1003" x="365" y="855.3901">[For the access decision enforcement, the EPR relies on the Confidentiality Code within the document metadata to be stored in the patient&#8217;s Health Record.</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="936" x="365" y="868.1948">A patient can set the default Confidentiality Codeand a document source needs to iterate over the different confidentiality code until successful]</text><polygon fill="#000000" points="1206.5,893.0547,1216.5,897.0547,1206.5,901.0547,1210.5,897.0547" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="356" x2="1212.5" y1="897.0547" y2="897.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="364" y="890.9888">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="400" y="890.9888">publish document [ITI-65]</text><polygon fill="#000000" points="367,924.1875,357,928.1875,367,932.1875,363,928.1875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="361" x2="1222.5" y1="928.1875" y2="928.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="374" y="922.1216">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="410" y="922.1216">&#160;</text><polygon fill="#181818" points="339,962.3203,349,966.3203,339,970.3203,343,966.3203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="175" x2="345" y1="966.3203" y2="966.3203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="183" y="960.2544">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="219" y="960.2544">&#160;</text><polygon fill="#000000" points="62,993.4531,52,997.4531,62,1001.4531,58,997.4531" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="56" x2="169" y1="997.4531" y2="997.4531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="69" y="991.3872">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="105" y="991.3872">&#160;</text></g></svg></div>

<h3 id="writing-documents-from-clinical-archives">Writing documents from clinical archives</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1274 915" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="903.1094" style="stroke:#181818;stroke-width:0.5;" width="617" x="1" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="111" x="254" y="19.0669">Clinical Archive</text><rect fill="#FFEFDE" height="903.1094" style="stroke:#181818;stroke-width:0.5;" width="483.5" x="697" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="848.25" y="19.0669">Community Components</text><rect fill="#FFFFFF" height="719.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="59" y="103.0234" /><rect fill="#FFFFFF" height="139.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="240" y="683.0781" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="385" y="373.4844" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="188.4219" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="528.2813" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="760" y="419.75" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="126.1563" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="234.6875" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="574.5469" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1092.5" y="752.9531" /><rect fill="none" height="94.0078" style="stroke:#000000;stroke-width:1.5;" width="1104" x="164" y="698.0781" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="64" x2="64" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="245" x2="245" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="390" x2="390" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="539" x2="539" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="765" x2="765" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="930.5" x2="930.5" y1="93.0234" y2="840.2188" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1097.5" x2="1097.5" y1="93.0234" y2="840.2188" /><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="5" y="59.7266" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="13" y="80.7217">Technical User</text><rect fill="#E2E2F0" height="32.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="5" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="13" y="860.2139">Technical User</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="174" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="182" y="64.4248">Document Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="223.5" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="142" x="174" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="182" y="860.2139">Document Source</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="223.5" y="876.5107">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="326" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="334.5" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="334" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="354" y="80.7217">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="326" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="334.5" y="860.2139">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="334" y="876.5107">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="354" y="892.8076">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="464" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="472" y="64.4248">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="523" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="464" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="472" y="860.2139">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="523" y="876.5107">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="701" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="709.5" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="709" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="739" y="80.7217">Manger</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="701" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="709.5" y="860.2139">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="709" y="876.5107">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="739" y="892.8076">Manger</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="853.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="861.5" y="64.4248">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="915" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="853.5" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="861.5" y="860.2139">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="915" y="876.5107">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1018.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1026.5" y="64.4248">Document Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1076" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="158" x="1018.5" y="839.2188" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="1026.5" y="860.2139">Document Recipient</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1076" y="876.5107">(MHD)</text><rect fill="#FFFFFF" height="719.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="59" y="103.0234" /><rect fill="#FFFFFF" height="139.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="240" y="683.0781" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="385" y="373.4844" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="188.4219" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="534" y="528.2813" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="760" y="419.75" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="126.1563" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="234.6875" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="926" y="574.5469" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1092.5" y="752.9531" /><polygon fill="#181818" points="914,122.1563,924,126.1563,914,130.1563,918,126.1563" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="920" y1="126.1563" y2="126.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="77" y="120.0903">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="113" y="120.0903">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="80,153.2891,70,157.2891,80,161.2891,76,157.2891" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="74" x2="930" y1="157.2891" y2="157.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="87" y="151.2231">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="123" y="151.2231">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="522,184.4219,532,188.4219,522,192.4219,526,188.4219" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="69" x2="528" y1="188.4219" y2="188.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="77" y="182.356">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="113" y="182.356">Get Access Token</text><polygon fill="#181818" points="914,230.6875,924,234.6875,914,238.6875,918,234.6875" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="544" x2="920" y1="234.6875" y2="234.6875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="552" y="221.0552">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="588" y="213.4888">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="324" x="588" y="228.6216">Client Credential Grant Type - [Basic access token]</text><polygon fill="#181818" points="555,276.9531,545,280.9531,555,284.9531,551,280.9531" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="549" x2="930" y1="280.9531" y2="280.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="562" y="267.3208">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="598" y="259.7544">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="598" y="274.8872">Client Credential Grant Type -[Basic access token]</text><polygon fill="#000000" points="80,308.0859,70,312.0859,80,316.0859,76,312.0859" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="74" x2="538" y1="312.0859" y2="312.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="87" y="306.02">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="123" y="306.02">&#160;</text><polygon fill="#000000" points="373,369.4844,383,373.4844,373,377.4844,377,373.4844" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="69" x2="379" y1="373.4844" y2="373.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="77" y="352.2856">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="113" y="337.1528">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="113" y="352.2856">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="113" y="367.4185">ID and access token</text><polygon fill="#181818" points="748,415.75,758,419.75,748,423.75,752,419.75" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="395" x2="754" y1="419.75" y2="419.75" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="403" y="406.1177">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="439" y="398.5513">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="439" y="413.6841">Query [local ID] together with access token</text><polygon fill="#181818" points="406,462.0156,396,466.0156,406,470.0156,402,466.0156" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="400" x2="764" y1="466.0156" y2="466.0156" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="413" y="452.3833">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="449" y="444.8169">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="449" y="459.9497">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="80,493.1484,70,497.1484,80,501.1484,76,497.1484" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="74" x2="389" y1="497.1484" y2="497.1484" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="87" y="491.0825">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="123" y="491.0825">&#160;</text><polygon fill="#000000" points="522,524.2813,532,528.2813,522,532.2813,526,528.2813" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="69" x2="528" y1="528.2813" y2="528.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="77" y="522.2153">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="113" y="522.2153">Get Access Token</text><polygon fill="#181818" points="914,570.5469,924,574.5469,914,578.5469,918,574.5469" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="544" x2="920" y1="574.5469" y2="574.5469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="552" y="560.9146">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="588" y="553.3481">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="588" y="568.481">[Extended access token]</text><polygon fill="#181818" points="555,616.8125,545,620.8125,555,624.8125,551,620.8125" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="549" x2="930" y1="620.8125" y2="620.8125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="562" y="607.1802">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="598" y="599.6138">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="598" y="614.7466">[Extended access token]</text><polygon fill="#000000" points="80,647.9453,70,651.9453,80,655.9453,76,651.9453" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="74" x2="538" y1="651.9453" y2="651.9453" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="87" y="645.8794">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="123" y="645.8794">&#160;</text><polygon fill="#181818" points="228,679.0781,238,683.0781,228,687.0781,232,683.0781" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="69" x2="234" y1="683.0781" y2="683.0781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="77" y="677.0122">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="113" y="677.0122">publish document</text><path d="M164,698.0781 L243,698.0781 L243,707.2109 L233,717.2109 L164,717.2109 L164,698.0781 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;" /><rect fill="none" height="94.0078" style="stroke:#000000;stroke-width:1.5;" width="1104" x="164" y="698.0781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="180" y="712.145">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="1003" x="259" y="711.2886">[For the access decision enforcement, the EPR relies on the Confidentiality Code within the document metadata to be stored in the patient&#8217;s Health Record.</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="936" x="259" y="724.0933">A patient can set the default Confidentiality Codeand a document source needs to iterate over the different confidentiality code until successful]</text><polygon fill="#000000" points="1080.5,748.9531,1090.5,752.9531,1080.5,756.9531,1084.5,752.9531" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="250" x2="1086.5" y1="752.9531" y2="752.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="258" y="746.8872">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="294" y="746.8872">publish document [ITI-65]</text><polygon fill="#000000" points="261,780.0859,251,784.0859,261,788.0859,257,784.0859" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="255" x2="1096.5" y1="784.0859" y2="784.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="268" y="778.02">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="304" y="778.02">&#160;</text><polygon fill="#181818" points="233,818.2188,243,822.2188,233,826.2188,237,822.2188" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="64" x2="239" y1="822.2188" y2="822.2188" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="72" y="816.1528">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="108" y="816.1528">&#160;</text></g></svg></div>

<h3 id="patient-get-document--smart-on-fhir-option-ehr-launch">Patient: get document – SMART on FHIR option (EHR Launch)</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1587 1252" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="1240.3672" style="stroke:#181818;stroke-width:0.5;" width="490" x="67" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="102" x="261" y="19.0669">Patient Portal</text><rect fill="#BDBED0" height="1240.3672" style="stroke:#181818;stroke-width:0.5;" width="363.5" x="559" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147" x="667.25" y="19.0669">SMART on FHIR App</text><rect fill="#FFEFDE" height="1240.3672" style="stroke:#181818;stroke-width:0.5;" width="530.5" x="924.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="1099.25" y="19.0669">Community Components</text><rect fill="#DFF3F7" height="1240.3672" style="stroke:#181818;stroke-width:0.5;" width="124" x="1457" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1507" y="19.0669">IdP</text><rect fill="#FFFFFF" height="1020.9141" style="stroke:#181818;stroke-width:1.0;" width="10" x="154" y="126.1563" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="335" y="219.5547" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="484" y="511.0156" /><rect fill="#FFFFFF" height="450.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="646" y="665.8125" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="831" y="866.875" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="831" y="991.4063" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="157.2891" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="265.8203" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="696.9453" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="789.4766" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1202" y="557.2813" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361" y="898.0078" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361" y="1022.5391" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1514" y="296.9531" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="33" x2="33" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="159" x2="159" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="340" x2="340" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="489" x2="489" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="651" x2="651" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="835.5" x2="835.5" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1005.5" x2="1005.5" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1207" x2="1207" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1366" x2="1366" y1="93.0234" y2="1165.0703" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1519" x2="1519" y1="93.0234" y2="1165.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="6" y="88.7217">Patient</text><ellipse cx="33" cy="23.2266" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M33,31.2266 L33,58.2266 M20,39.2266 L46,39.2266 M33,58.2266 L20,73.2266 M33,58.2266 L46,73.2266 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="6" y="1178.0654">Patient</text><ellipse cx="33" cy="1190.8672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M33,1198.8672 L33,1225.8672 M20,1206.8672 L46,1206.8672 M33,1225.8672 L20,1240.8672 M33,1225.8672 L46,1240.8672 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="71" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="131.5" y="64.4248">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="79" y="80.7217">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="71" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="131.5" y="1185.0654">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="79" y="1201.3623">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="265" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="273" y="64.4248">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="324" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="265" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="273" y="1185.0654">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="324" y="1201.3623">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="425" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="433.5" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="433" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="453" y="80.7217">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="425" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="433.5" y="1185.0654">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="433" y="1201.3623">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="453" y="1217.6592">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="563" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="623.5" y="64.4248">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="571" y="80.7217">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="563" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="623.5" y="1185.0654">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="571" y="1201.3623">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="753.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="761.5" y="64.4248">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="814.5" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="753.5" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="761.5" y="1185.0654">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="814.5" y="1201.3623">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="928.5" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="936.5" y="64.4248">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="990" y="80.7217">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="928.5" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="936.5" y="1185.0654">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="990" y="1201.3623">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1143" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1151.5" y="48.1279">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1151" y="64.4248">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1183.5" y="80.7217">Mange</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1143" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1151.5" y="1185.0654">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1151" y="1201.3623">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1183.5" y="1217.6592">Mange</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1281" y="43.4297" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1289" y="64.4248">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1344.5" y="80.7217">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1281" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1289" y="1185.0654">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1344.5" y="1201.3623">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1461" y="27.1328" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1503" y="48.1279">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1469" y="64.4248">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1491" y="80.7217">Provider</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1461" y="1164.0703" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1503" y="1185.0654">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1469" y="1201.3623">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1491" y="1217.6592">Provider</text><rect fill="#FFFFFF" height="1020.9141" style="stroke:#181818;stroke-width:1.0;" width="10" x="154" y="126.1563" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="335" y="219.5547" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="484" y="511.0156" /><rect fill="#FFFFFF" height="450.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="646" y="665.8125" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="831" y="866.875" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="831" y="991.4063" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="157.2891" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="265.8203" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="696.9453" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1001" y="789.4766" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1202" y="557.2813" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361" y="898.0078" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1361" y="1022.5391" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1514" y="296.9531" /><polygon fill="#000000" points="142,122.1563,152,126.1563,142,130.1563,146,126.1563" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="33" x2="148" y1="126.1563" y2="126.1563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="41" y="120.0903">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="77" y="120.0903">read doc</text><polygon fill="#181818" points="989,153.2891,999,157.2891,989,161.2891,993,157.2891" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="164" x2="995" y1="157.2891" y2="157.2891" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="172" y="151.2231">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="208" y="151.2231">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="175,184.4219,165,188.4219,175,192.4219,171,188.4219" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="169" x2="1005" y1="188.4219" y2="188.4219" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="182.356">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="218" y="182.356">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="323,215.5547,333,219.5547,323,223.5547,327,219.5547" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="164" x2="329" y1="219.5547" y2="219.5547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="172" y="213.4888">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="208" y="213.4888">Get Access Token</text><polygon fill="#181818" points="989,261.8203,999,265.8203,989,269.8203,993,265.8203" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="345" x2="995" y1="265.8203" y2="265.8203" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="353" y="252.188">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="389" y="244.6216">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="389" y="259.7544">[Basic access token]</text><polygon fill="#181818" points="1502,292.9531,1512,296.9531,1502,300.9531,1506,296.9531" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1508" y1="296.9531" y2="296.9531" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1019" y="290.8872">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1055" y="290.8872">Authenticate User</text><polygon fill="#181818" points="1022,324.0859,1012,328.0859,1022,332.0859,1018,328.0859" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1016" x2="1518" y1="328.0859" y2="328.0859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1029" y="322.02">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1065" y="322.02">&#160;</text><line style="stroke:#000000;stroke-width:1.0;" x1="1011" x2="1053" y1="359.2188" y2="359.2188" /><line style="stroke:#000000;stroke-width:1.0;" x1="1053" x2="1053" y1="359.2188" y2="372.2188" /><line style="stroke:#000000;stroke-width:1.0;" x1="1012" x2="1053" y1="372.2188" y2="372.2188" /><polygon fill="#000000" points="1022,368.2188,1012,372.2188,1022,376.2188,1018,372.2188" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1019" y="353.1528">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1055" y="353.1528">Authorize App Access</text><polygon fill="#181818" points="356,414.4844,346,418.4844,356,422.4844,352,418.4844" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="350" x2="1005" y1="418.4844" y2="418.4844" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="363" y="404.8521">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="399" y="397.2856">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="399" y="412.4185">[Basic access token]</text><polygon fill="#000000" points="175,445.6172,165,449.6172,175,453.6172,171,449.6172" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="169" x2="339" y1="449.6172" y2="449.6172" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="443.5513">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="218" y="443.5513">&#160;</text><polygon fill="#000000" points="472,507.0156,482,511.0156,472,515.0156,476,511.0156" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="164" x2="478" y1="511.0156" y2="511.0156" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="172" y="489.8169">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="208" y="474.6841">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="208" y="489.8169">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="208" y="504.9497">ID and access token</text><polygon fill="#181818" points="1190,553.2813,1200,557.2813,1190,561.2813,1194,557.2813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="494" x2="1196" y1="557.2813" y2="557.2813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="502" y="543.6489">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="538" y="536.0825">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="538" y="551.2153">Query [local ID] together with access token</text><polygon fill="#181818" points="505,599.5469,495,603.5469,505,607.5469,501,603.5469" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="499" x2="1206" y1="603.5469" y2="603.5469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="512" y="589.9146">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="548" y="582.3481">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="548" y="597.481">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="175,630.6797,165,634.6797,175,638.6797,171,634.6797" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="169" x2="488" y1="634.6797" y2="634.6797" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="628.6138">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="218" y="628.6138">&#160;</text><polygon fill="#181818" points="634,661.8125,644,665.8125,634,669.8125,638,665.8125" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="164" x2="640" y1="665.8125" y2="665.8125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="172" y="659.7466">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="208" y="659.7466">launch app</text><polygon fill="#181818" points="989,692.9453,999,696.9453,989,700.9453,993,696.9453" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="656" x2="995" y1="696.9453" y2="696.9453" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="664" y="690.8794">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="700" y="690.8794">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="667,739.2109,657,743.2109,667,747.2109,663,743.2109" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="661" x2="1005" y1="743.2109" y2="743.2109" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="674" y="729.5786">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="710" y="722.0122">Conformance statement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="710" y="737.145">incl. OAuth 2.1 endpoints</text><polygon fill="#181818" points="989,785.4766,999,789.4766,989,793.4766,993,789.4766" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="656" x2="995" y1="789.4766" y2="789.4766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="664" y="775.8442">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="700" y="768.2778">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="700" y="783.4106">[Extended access token]</text><polygon fill="#181818" points="667,831.7422,657,835.7422,667,839.7422,663,835.7422" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="661" x2="1005" y1="835.7422" y2="835.7422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="674" y="822.1099">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="710" y="814.5435">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="710" y="829.6763">[Extended access token]</text><polygon fill="#000000" points="819,862.875,829,866.875,819,870.875,823,866.875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="656" x2="825" y1="866.875" y2="866.875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="664" y="860.8091">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="700" y="860.8091">query documents</text><polygon fill="#000000" points="1349,894.0078,1359,898.0078,1349,902.0078,1353,898.0078" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="841" x2="1355" y1="898.0078" y2="898.0078" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="849" y="891.9419">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="885" y="891.9419">query documents [ITI-67]</text><polygon fill="#000000" points="852,925.1406,842,929.1406,852,933.1406,848,929.1406" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="846" x2="1365" y1="929.1406" y2="929.1406" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="859" y="923.0747">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="895" y="923.0747">&#160;</text><polygon fill="#000000" points="667,956.2734,657,960.2734,667,964.2734,663,960.2734" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="661" x2="835" y1="960.2734" y2="960.2734" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="674" y="954.2075">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="710" y="954.2075">&#160;</text><polygon fill="#000000" points="819,987.4063,829,991.4063,819,995.4063,823,991.4063" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="656" x2="825" y1="991.4063" y2="991.4063" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="664" y="985.3403">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="700" y="985.3403">retrieve document</text><polygon fill="#000000" points="1349,1018.5391,1359,1022.5391,1349,1026.5391,1353,1022.5391" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="841" x2="1355" y1="1022.5391" y2="1022.5391" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="849" y="1016.4731">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="885" y="1016.4731">retrieve document [ITI-68]</text><polygon fill="#000000" points="852,1049.6719,842,1053.6719,852,1057.6719,848,1053.6719" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="846" x2="1365" y1="1053.6719" y2="1053.6719" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="859" y="1047.606">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="895" y="1047.606">&#160;</text><polygon fill="#000000" points="667,1080.8047,657,1084.8047,667,1088.8047,663,1084.8047" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="661" x2="835" y1="1084.8047" y2="1084.8047" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="674" y="1078.7388">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="710" y="1078.7388">&#160;</text><polygon fill="#000000" points="175,1111.9375,165,1115.9375,175,1119.9375,171,1115.9375" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="169" x2="650" y1="1115.9375" y2="1115.9375" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="182" y="1109.8716">[28]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="218" y="1109.8716">&#160;</text><polygon fill="#000000" points="44,1143.0703,34,1147.0703,44,1151.0703,40,1147.0703" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="38" x2="158" y1="1147.0703" y2="1147.0703" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="51" y="1141.0044">[29]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="87" y="1141.0044">&#160;</text></g></svg></div>

<h3 id="healthcare-professional-get-document--smart-on-fhir-option-ehr-launch">Healthcare professional: get document – SMART on FHIR option (EHR Launch)</h3>

<div><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" preserveAspectRatio="none" version="1.1" viewBox="0 0 1623 1275" zoomAndPan="magnify"><defs /><g><rect fill="#BFCAD2" height="1263.2344" style="stroke:#181818;stroke-width:0.5;" width="490" x="103" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="366" x="165" y="19.0669">Healthcare Professional Portal or Primary System</text><rect fill="#BDBED0" height="1263.2344" style="stroke:#181818;stroke-width:0.5;" width="363.5" x="595" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="147" x="703.25" y="19.0669">SMART on FHIR App</text><rect fill="#FFEFDE" height="1263.2344" style="stroke:#181818;stroke-width:0.5;" width="530.5" x="960.5" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="181" x="1135.25" y="19.0669">Community Components</text><rect fill="#DFF3F7" height="1263.2344" style="stroke:#181818;stroke-width:0.5;" width="124" x="1493" y="6" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24" x="1543" y="19.0669">IdP</text><rect fill="#FFFFFF" height="1020.9141" style="stroke:#181818;stroke-width:1.0;" width="10" x="190" y="132.7266" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="371" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="520" y="517.5859" /><rect fill="#FFFFFF" height="450.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="682" y="672.3828" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="873.4453" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="997.9766" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="703.5156" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="796.0469" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1238" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1397" y="904.5781" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1397" y="1029.1094" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550" y="303.5234" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="195" x2="195" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="376" x2="376" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="525" x2="525" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="687" x2="687" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="871.5" x2="871.5" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1041.5" x2="1041.5" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1243" x2="1243" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1402" x2="1402" y1="99.5938" y2="1171.6406" /><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1555" x2="1555" y1="99.5938" y2="1171.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="78.9951">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="95.292">Professional</text><ellipse cx="51" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,21.5 L51,48.5 M38,29.5 L64,29.5 M51,48.5 L38,63.5 M51,48.5 L64,63.5 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="9" y="1184.6357">Healthcare</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="6" y="1200.9326">Professional</text><ellipse cx="51" cy="1213.7344" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;" /><path d="M51,1221.7344 L51,1248.7344 M38,1229.7344 L64,1229.7344 M51,1248.7344 L38,1263.7344 M51,1248.7344 L64,1263.7344 " fill="none" style="stroke:#181818;stroke-width:0.5;" /><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="107" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="167.5" y="70.9951">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="115" y="87.292">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="107" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="167.5" y="1191.6357">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="115" y="1207.9326">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="301" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="309" y="70.9951">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="360" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150" x="301" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="134" x="309" y="1191.6357">Authorization Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="360" y="1207.9326">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="461" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="469.5" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="469" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="489" y="87.292">Consumer</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="461" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="469.5" y="1191.6357">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="469" y="1207.9326">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="489" y="1224.2295">Consumer</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="599" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="659.5" y="70.9951">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="607" y="87.292">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="599" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="659.5" y="1191.6357">App GUI</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="607" y="1207.9326">IUA Authorization Client</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="789.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="797.5" y="70.9951">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="850.5" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="165" x="789.5" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="797.5" y="1191.6357">Document Consumer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="850.5" y="1207.9326">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="964.5" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="972.5" y="70.9951">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1026" y="87.292">(IUA)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="155" x="964.5" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="972.5" y="1191.6357">Authorization Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1026" y="1207.9326">(IUA)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1179" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1187.5" y="54.6982">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1187" y="70.9951">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1219.5" y="87.292">Mange</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128" x="1179" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111" x="1187.5" y="1191.6357">Patient Identifier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="1187" y="1207.9326">Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="1219.5" y="1224.2295">Mange</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1317" y="50" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1325" y="70.9951">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1380.5" y="87.292">(MHD)</text><rect fill="#E2E2F0" height="48.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="1317" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="1325" y="1191.6357">Document Responder</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1380.5" y="1207.9326">(MHD)</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1497" y="33.7031" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1539" y="54.6982">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1505" y="70.9951">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1527" y="87.292">Provider</text><rect fill="#E2E2F0" height="64.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="1497" y="1170.6406" /><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1539" y="1191.6357">User</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100" x="1505" y="1207.9326">Authentication</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56" x="1527" y="1224.2295">Provider</text><rect fill="#FFFFFF" height="1020.9141" style="stroke:#181818;stroke-width:1.0;" width="10" x="190" y="132.7266" /><rect fill="#FFFFFF" height="230.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="371" y="226.125" /><rect fill="#FFFFFF" height="123.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="520" y="517.5859" /><rect fill="#FFFFFF" height="450.125" style="stroke:#181818;stroke-width:1.0;" width="10" x="682" y="672.3828" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="873.4453" /><rect fill="#FFFFFF" height="93.3984" style="stroke:#181818;stroke-width:1.0;" width="10" x="867" y="997.9766" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="163.8594" /><rect fill="#FFFFFF" height="152.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="272.3906" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="703.5156" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1037" y="796.0469" /><rect fill="#FFFFFF" height="46.2656" style="stroke:#181818;stroke-width:1.0;" width="10" x="1238" y="563.8516" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1397" y="904.5781" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1397" y="1029.1094" /><rect fill="#FFFFFF" height="31.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="1550" y="303.5234" /><polygon fill="#000000" points="178,128.7266,188,132.7266,178,136.7266,182,132.7266" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="51" x2="184" y1="132.7266" y2="132.7266" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="59" y="126.6606">[01]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="95" y="126.6606">read doc</text><polygon fill="#181818" points="1025,159.8594,1035,163.8594,1025,167.8594,1029,163.8594" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="200" x2="1031" y1="163.8594" y2="163.8594" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="208" y="157.7935">[02]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="244" y="157.7935">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="211,190.9922,201,194.9922,211,198.9922,207,194.9922" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="205" x2="1041" y1="194.9922" y2="194.9922" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="218" y="188.9263">[03]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="321" x="254" y="188.9263">Conformance statement incl. OAuth 2.1 endpoints</text><polygon fill="#000000" points="359,222.125,369,226.125,359,230.125,363,226.125" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="200" x2="365" y1="226.125" y2="226.125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="208" y="220.0591">[04]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="244" y="220.0591">Get Access Token</text><polygon fill="#181818" points="1025,268.3906,1035,272.3906,1025,276.3906,1029,272.3906" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="381" x2="1031" y1="272.3906" y2="272.3906" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="389" y="258.7583">[05]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="425" y="251.1919">[ITI-71] Get Access Token Request</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="425" y="266.3247">[Basic access token]</text><polygon fill="#181818" points="1538,299.5234,1548,303.5234,1538,307.5234,1542,303.5234" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1047" x2="1544" y1="303.5234" y2="303.5234" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1055" y="297.4575">[06]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="1091" y="297.4575">Authenticate User</text><polygon fill="#181818" points="1058,330.6563,1048,334.6563,1058,338.6563,1054,334.6563" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1554" y1="334.6563" y2="334.6563" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1065" y="328.5903">[07]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1101" y="328.5903">&#160;</text><line style="stroke:#000000;stroke-width:1.0;" x1="1047" x2="1089" y1="365.7891" y2="365.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1089" x2="1089" y1="365.7891" y2="378.7891" /><line style="stroke:#000000;stroke-width:1.0;" x1="1048" x2="1089" y1="378.7891" y2="378.7891" /><polygon fill="#000000" points="1058,374.7891,1048,378.7891,1058,382.7891,1054,378.7891" style="stroke:#000000;stroke-width:1.0;" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="1055" y="359.7231">[08]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1091" y="359.7231">Authorize App Access</text><polygon fill="#181818" points="392,421.0547,382,425.0547,392,429.0547,388,425.0547" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="386" x2="1041" y1="425.0547" y2="425.0547" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="399" y="411.4224">[09]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="435" y="403.856">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="435" y="418.9888">[Basic access token]</text><polygon fill="#000000" points="211,452.1875,201,456.1875,211,460.1875,207,456.1875" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="205" x2="375" y1="456.1875" y2="456.1875" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="218" y="450.1216">[10]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="254" y="450.1216">&#160;</text><polygon fill="#000000" points="508,513.5859,518,517.5859,508,521.5859,512,517.5859" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="200" x2="514" y1="517.5859" y2="517.5859" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="208" y="496.3872">[11]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="244" y="481.2544">query MPI-PID and EPR-SPID</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="244" y="496.3872">from MPI using local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="244" y="511.52">ID and access token</text><polygon fill="#181818" points="1226,559.8516,1236,563.8516,1226,567.8516,1230,563.8516" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="530" x2="1232" y1="563.8516" y2="563.8516" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="538" y="550.2192">[12]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="574" y="542.6528">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="274" x="574" y="557.7856">Query [local ID] together with access token</text><polygon fill="#181818" points="541,606.1172,531,610.1172,541,614.1172,537,610.1172" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="535" x2="1242" y1="610.1172" y2="610.1172" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="548" y="596.4849">[13]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="584" y="588.9185">[ITI-83] Mobile Patient Identifier Cross-reference</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="233" x="584" y="604.0513">Query Response [MPI-PID, EPR-SPID]</text><polygon fill="#000000" points="211,637.25,201,641.25,211,645.25,207,641.25" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="205" x2="524" y1="641.25" y2="641.25" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="218" y="635.1841">[14]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="254" y="635.1841">&#160;</text><polygon fill="#181818" points="670,668.3828,680,672.3828,670,676.3828,674,672.3828" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="200" x2="676" y1="672.3828" y2="672.3828" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="208" y="666.3169">[15]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="244" y="666.3169">launch app</text><polygon fill="#181818" points="1025,699.5156,1035,703.5156,1025,707.5156,1029,703.5156" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="692" x2="1031" y1="703.5156" y2="703.5156" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="700" y="697.4497">[16]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="736" y="697.4497">GET /.well-known/smart-configuration</text><polygon fill="#181818" points="703,745.7813,693,749.7813,703,753.7813,699,749.7813" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="697" x2="1041" y1="749.7813" y2="749.7813" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="710" y="736.1489">[17]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="746" y="728.5825">Conformance statement</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="746" y="743.7153">incl. OAuth 2.1 endpoints</text><polygon fill="#181818" points="1025,792.0469,1035,796.0469,1025,800.0469,1029,796.0469" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="692" x2="1031" y1="796.0469" y2="796.0469" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="700" y="782.4146">[18]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="736" y="774.8481">[ITI-71] Get Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="736" y="789.981">[Extended access token]</text><polygon fill="#181818" points="703,838.3125,693,842.3125,703,846.3125,699,842.3125" style="stroke:#181818;stroke-width:1.0;" /><line style="stroke:#181818;stroke-width:1.0;" x1="697" x2="1041" y1="842.3125" y2="842.3125" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="710" y="828.6802">[19]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="746" y="821.1138">[ITI-71] Get Access Token Response</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="746" y="836.2466">[Extended access token]</text><polygon fill="#000000" points="855,869.4453,865,873.4453,855,877.4453,859,873.4453" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="692" x2="861" y1="873.4453" y2="873.4453" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="700" y="867.3794">[20]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="736" y="867.3794">query documents</text><polygon fill="#000000" points="1385,900.5781,1395,904.5781,1385,908.5781,1389,904.5781" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="877" x2="1391" y1="904.5781" y2="904.5781" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="885" y="898.5122">[21]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160" x="921" y="898.5122">query documents [ITI-67]</text><polygon fill="#000000" points="888,931.7109,878,935.7109,888,939.7109,884,935.7109" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="882" x2="1401" y1="935.7109" y2="935.7109" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="895" y="929.645">[22]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="931" y="929.645">&#160;</text><polygon fill="#000000" points="703,962.8438,693,966.8438,703,970.8438,699,966.8438" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="697" x2="871" y1="966.8438" y2="966.8438" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="710" y="960.7778">[23]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="960.7778">&#160;</text><polygon fill="#000000" points="855,993.9766,865,997.9766,855,1001.9766,859,997.9766" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="692" x2="861" y1="997.9766" y2="997.9766" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="700" y="991.9106">[24]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="736" y="991.9106">retrieve document</text><polygon fill="#000000" points="1385,1025.1094,1395,1029.1094,1385,1033.1094,1389,1029.1094" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="877" x2="1391" y1="1029.1094" y2="1029.1094" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="885" y="1023.0435">[25]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="921" y="1023.0435">retrieve document [ITI-68]</text><polygon fill="#000000" points="888,1056.2422,878,1060.2422,888,1064.2422,884,1060.2422" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="882" x2="1401" y1="1060.2422" y2="1060.2422" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="895" y="1054.1763">[26]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="931" y="1054.1763">&#160;</text><polygon fill="#000000" points="703,1087.375,693,1091.375,703,1095.375,699,1091.375" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="697" x2="871" y1="1091.375" y2="1091.375" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="710" y="1085.3091">[27]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="746" y="1085.3091">&#160;</text><polygon fill="#000000" points="211,1118.5078,201,1122.5078,211,1126.5078,207,1122.5078" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="205" x2="686" y1="1122.5078" y2="1122.5078" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="218" y="1116.4419">[28]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="254" y="1116.4419">&#160;</text><polygon fill="#000000" points="62,1149.6406,52,1153.6406,62,1157.6406,58,1153.6406" style="stroke:#000000;stroke-width:1.0;" /><line style="stroke:#000000;stroke-width:1.0;" x1="56" x2="194" y1="1153.6406" y2="1153.6406" /><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="30" x="69" y="1147.5747">[29]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="105" y="1147.5747">&#160;</text></g></svg></div>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript" src="assets/js/window-hash.js"> </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.e-health-suisse.ch">eHealth Suisse</a>.  Package ch.fhir.ig.ch-epr-fhir#4.0.1 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Wed, Dec 18, 2024 12:08+0000">2024-12-18</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                

| <a style="color: #81BEF7" target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSffM9HysTOg3VdMOeaFmWiWGH0OQT-FZLmwZaeXgZqUr66Y0A/viewform?usp=sf_link&amp;entry%2E1353807103=ch.fhir.ig.ch-epr-fhir%234.0.1%20/sequencediagrams.html&amp;entry%2E247644557=Sequence%20Diagrams">Propose a change</a>




          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->

  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

