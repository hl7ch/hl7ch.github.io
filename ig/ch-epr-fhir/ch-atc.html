<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>Audit Trail Consumption (CH:ATC) - CH EPR FHIR (R4) v5.0.0-ballot</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
  	<link href="assets/css/cqf.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7.css" rel="stylesheet"/>
    <link href="assets/css/fhir.css" rel="stylesheet"/>

    <style>
    
    .navbar-inverse {
        background-color: #144b8a;
    }   

    #segment-footer .container {
      background-color: #144b8a;
    }
    

    

    
    #ig-status {
      color: #4fa2da;
    } 
    

    </style>
 

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="fhir-logo" sizes="144x144" href="assets/ico/icon-fhir-144.png"/>
    <link rel="fhir-logo" sizes="114x114" href="assets/ico/icon-fhir-114.png"/>
    <link rel="fhir-logo" sizes="72x72" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>
    <script type="text/javascript" src="assets/js/mermaid.js"></script>
    <script type="text/javascript" src="assets/js/mermaid-init.js"></script>
    <style type="text/css">h2{--heading-prefix:"10"}
    h3,h4,h5,h6{--heading-prefix:"10"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->

        <!-- Placeholder for child template header declarations -->

            <!--
<div id="family-nav">
	<a id="logo" no-external="true" href="http://hl7.org/fhir"> <img
		alt="logo fhir" src="assets/images/fhir-logo-www.png" />
	</a>
</div>
-->


            <div id="family-nav">
                <a id="logo" no-external="true" href="searchform.html">
                    <img src="assets/images/search.png" alt="Search FHIR" />
                </a>
            </div>
            <div id="hl7-nav">
    <a id="ehealthsuisse-logo" no-external="true" href="https://www.e-health-suisse.ch">
        <img alt="visit the e-health-suisse website" height="60" src="assets/images/LogoDE_ehealthsuisse.svg" />
    </a>            
</div>

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">CH EPR FHIR (R4)</span>
            <br/>
            <span style="display:inline-block;">5.0.0-ballot - ballot



  <img alt="Switzerland flag" src="assets/images/che.svg" height="16" title="Switzerland"/>


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
    <li>
        <a href="index.html">Home</a>
    </li>
    <li class="Profiles">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 1
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="iti-iua.html">Internet User Authorization (IUA)</a>
            </li>
            <li>
                <a href="iti-pdqm.html">Patient Demographics Query for mobile (PDQm)</a>
            </li>
            <li>
                <a href="iti-pixm.html">Patient Identifier Cross-referencing for mobile (PIXm)</a>
            </li>
            <li>
                <a href="iti-mhd.html">Mobile Access to Health Documents (MHD)</a>
            </li>
            <li>
                <a href="iti-restful-atna.html">RESTful ATNA</a>
            </li>
            <li>
                <a href="iti-mcsd.html">Mobile Care Services Discovery (mCSD)</a>
            </li>
            <li>
                <a href="ppqm.html">Privacy Policy Query for Mobile (CH:PPQm)</a>
            </li>
            <li>
                <a href="ch-atc.html">Audit Trail Consumption (CH:ATC)</a>
            </li>
        </ul>
    </li>
    <li class="dropdown">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 2
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="iti-103.html">Get Authorization Server Metadata [ITI-103]</a>
            </li>
            <li>
                <a href="iti-71.html">Get Access Token [ITI-71]</a>
            </li>
            <li>
                <a href="iti-72.html">Incorporate Access Token [ITI-72]</a>
            </li>
            <li>
                <a href="iti-104.html">Patient Identity Feed FHIR [ITI-104]</a>
            </li>
            <li>
                <a href="iti-119.html">Patient Demographics Match [ITI-119]</a>
            </li>
            <li>
                <a href="iti-83.html">Mobile Patient Identifier Cross-reference Query [ITI-83]</a>
            </li>
            <li>
                <a href="iti-65.html">Provide Document Bundle [ITI-65]</a>
            </li>
            <li>
                <a href="iti-67.html">Find Document References [ITI-67]</a>
            </li>
            <li>
                <a href="iti-68.html">Retrieve Document [ITI-68]</a>
            </li>
            <li>
                <a href="ch-mhd-1.html">Update Document Metadata [CH:MHD-1]</a>
            </li>
            <li>
                <a href="iti-20.html">Record Audit Event [ITI-20]</a>
            </li>
            <li>
                <a href="iti-90.html">Find Matching Care Services [ITI-90]</a>
            </li>
            <li>
                <a href="iti-130.html">Care Services Feed [ITI-130]</a>
            </li>
            <li>
                <a href="ppq-3.html">Mobile Privacy Policy Feed [PPQ-3]</a>
            </li>
            <li>
                <a href="ppq-4.html">Mobile Privacy Policy Bundle Feed [PPQ-4]</a>
            </li>
            <li>
                <a href="ppq-5.html">Mobile Privacy Policy Retrieve [PPQ-5]</a>
            </li>
            <li>
                <a href="iti-81.html">Retrieve Audit Event [ITI-81]</a>
            </li>
        </ul>
    </li>
    <li class="dropdown">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Volume 3
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="volume3.html">CH:ATC Audit Event Content Profiles</a>
            </li>
        </ul>
    </li>
    <li class="dropdown">
        <a data-toggle="dropdown" href="#" class="dropdown-toggle">Appendix
            <b class="caret">
            </b>
        </a>
        <ul class="dropdown-menu">
            <li>
                <a href="profiles.html">Profiles</a>
            </li>
            <li>
                <a href="extensions.html">Extensions</a>
            </li>
            <li>
                <a href="terminology.html">Terminology</a>
            </li>
            <li>
                <a href="capstatements.html">Capability Statements</a>
            </li>
            <li>
                <a href="operations.html">Operations</a>
            </li>
            <li>
                <a href="sequencediagrams.html">Sequence diagrams</a>
            </li>
            <li>
                <a href="tracecontext.html">Trace Context</a>
            </li>
            <li>
                <a href="changelog.html">Open Issues / Change Log</a>
            </li>
        </ul>
    </li>
    <li>
        <a href="artifacts.html">Artifacts</a>
    </li>
</ul>

            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Audit Trail Consumption (CH:ATC)</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the CH EPR FHIR (R4) (v5.0.0-ballot: <a data-no-external="true" href="https://confluence.hl7.org/display/HL7/HL7+Balloting" title="Draft Standard for Trial-Use">DSTU</a> 5 Ballot) based on <a data-no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. This is the current published version.  For a full list of available versions, see the <a data-no-external="true" href="http://fhir.ch/ig/ch-epr-fhir/history.html">Directory of published versions</a></p><!--EndReleaseHeader-->
  <h2>Audit Trail Consumption (CH:ATC)</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#overview" id="markdown-toc-overview">Overview</a></li>
  <li><a href="#actors-transactions-and-content-modules" id="markdown-toc-actors-transactions-and-content-modules">Actors, Transactions and Content Modules</a></li>
  <li><a href="#integration-profile-options" id="markdown-toc-integration-profile-options">Integration Profile Options</a></li>
  <li><a href="#actor-groupings" id="markdown-toc-actor-groupings">Actor Groupings</a></li>
  <li><a href="#overview---use-cases" id="markdown-toc-overview---use-cases">Overview - Use Cases</a></li>
  <li><a href="#security-considerations" id="markdown-toc-security-considerations">Security Considerations</a></li>
</ul>

</div>
<h3 id="overview">Overview</h3>

<p>This profile defines the audit trail consumption requirements a community has to provide for a patient’s audit trail.</p>

<p>The profile CH:ATC defines and precises the actors and Retrieve Audit Event [ITI-81] of the <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA</a> and defines the content of the Audit Messages. The different types of the Audit Messages are based on the requirements for Document and Access Policy management as well as the entry of healthcare professionals into a group in order to achieve the Swiss regulation needs on the audit trail access by patients. These Audit Event types differ from the Audit Events which have also to be logged according to the ATNA requirements.</p>

<p><img src="chatc-overview.png" class="figure-img img-responsive img-rounded center-block" alt="Figure 1: CH:ATC Overview within the Swiss EPR circle of trust" style="width:60%" /></p>
<div style="clear:both;"></div>
<p><i>Figure 1: CH:ATC Overview within the Swiss EPR circle of trust</i></p>

<p>Each community shall provide one endpoint to a Patient Audit Record Repository which can be queried according to the Retrieve Audit Event [ITI-81] RESTful Query transaction. A reference community shall implement a Patient Audit Consumer which will query all Patient Audit Record Repositories, aggregate the results and provide it to the patient.</p>

<p>How the Patient Audit Record Repository generates or collects the specified Audit Events within the community is outside the scope of this profile.</p>

<h3 id="actors-transactions-and-content-modules">Actors, Transactions and Content Modules</h3>
<p>Figure 2 shows the actors directly involved in the CH:ATC Profile and the relevant transactions between them. If needed for context, other actors that may be indirectly involved due to their participation in other related profiles are shown in dotted lines.</p>

<p><img src="chatc-actor-diagram.png" class="figure-img img-responsive img-rounded center-block" alt="Figure 2: CH:ATC Actor diagram" style="width:60%" /></p>
<div style="clear:both;"></div>
<p><i>Figure 2: CH:ATC Actor diagram</i></p>

<p>Table 1 lists the transactions for each actor directly involved in the CH:ATC Profile. To claim compliance with this Profile, an actor shall support all required transactions (labeled "R") and may support the optional transactions (labeled "O").</p>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Actors</th>
      <th>Transactions</th>
      <th>Initiator or Responder</th>
      <th>Opt</th>
      <th>Reference</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Patient Audit Consumer</td>
      <td>Retrieve Audit Event [ITI-81]</td>
      <td>Initiator</td>
      <td>R</td>
      <td><a href="#patient-audit-consumer">Patient Audit Consumer</a></td>
    </tr>
    <tr>
      <td>Patient Audit Record Repository</td>
      <td>Retrieve Audit Event [ITI-81]</td>
      <td>Responder</td>
      <td>R</td>
      <td><a href="#patient-audit-record-repository">Patient Audit Record Repository</a></td>
    </tr>
  </tbody>
</table>

<p><em>Table 1: CH:ATC Profile - Actors and Transactions</em></p>

<h4 id="actor-descriptions-and-actor-profile-requirements">Actor Descriptions and Actor Profile Requirements</h4>

<p>The actors defined in this profile are based on the <a href="https://profiles.ihe.net/ITI/TF/Volume2/index.html">IHE ITI TF-2</a> and the <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA</a> actors. This section documents any additional requirements on the profile’s actors required in the Swiss EPR context.</p>

<h4 id="patient-audit-record-repository">Patient Audit Record Repository</h4>

<p>For the actor Patient Audit Record Repository the actor Audit Record Repository in <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA</a> is relevant.</p>

<p>The Patient Audit Record Repository shall support the Retrieve Audit Message Option from the Audit Record Repository (<a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA, chapter 9.2.3</a>) with the search capabilities as defined in <a href="https://profiles.ihe.net/ITI/TF/Volume2/ITI-81.html">IHE ITI TF-2, chapter 3.81</a> and the Audit Message Formats defined in <a href="volume3.html">Volume 3 - CH:ATC Audit Event Content Profiles</a>.</p>

<h4 id="patient-audit-consumer">Patient Audit Consumer</h4>

<p>For the actor Patient Audit Consumer the actor Audit Consumer in <a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA</a> is relevant.</p>

<p>The Patient Audit Consumer queries a Patient Audit Record Repository for Audit Events defined by this profile. The Patient Audit Consumer shall support the Retrieve Audit Message Option from the Audit Consumer (<a href="https://www.ihe.net/uploadedFiles/Documents/ITI/IHE_ITI_Suppl_RESTful-ATNA.pdf">IHE ITI Supplement Add RESTful Query to ATNA, chapter 9.2.3</a>).</p>

<p>The Patient Audit Consumer should filter duplicate AuditEvents for display (e.g. Document Retrieval Audit Event for the same document access are in multiple Patient Audit Record Repositories, because the requesting and responding community need to make the AuditEvent available).</p>

<p>Subsequent processing like translation of the coded elements into the users preferred language and display of the query result is not defined in this profile.</p>

<h3 id="integration-profile-options">Integration Profile Options</h3>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>CH:ATC Actor</th>
      <th>Option name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Patient Audit Consumer</td>
      <td>Aggregate Audit Message Option</td>
    </tr>
    <tr>
      <td>Patient Audit Record Repository</td>
      <td>-</td>
    </tr>
  </tbody>
</table>

<p><em>Table 2: Actors and Options</em></p>

<p>The Aggregate Audit Message Option allows the Patient Audit Consumer to aggregate results from multiple Patient Audit Record Repositories. A reference community shall provide at least one Patient Audit Consumer with this Option. If a Patient Audit Consumer implementing this option is unable to obtain audit records from a particular community, the Patient Audit Consumer shall add an OperationOutcome with a severity “warning” and the OID of the non-responding community to the aggregated results.</p>

<h3 id="actor-groupings">Actor Groupings</h3>

<p>An actor from this profile (Column 1) shall implement all of the required transactions and/or content modules in this profile <i><strong>in addition to <u>all</u></strong></i> of the requirements for the grouped actor.</p>

<table class="table table-bordered">
	<thead>
		<tr>
			<td>
				<p><strong>CH:ATC Actor</strong></p>
			</td>
			<td>
				<p><strong>Grouping Condition</strong></p>
			</td>
			<td>
				<p><strong>Actor to be grouped with</strong></p>
			</td>
			<td>
				<p><strong>Reference</strong></p>
			</td>
		</tr>
	</thead>
	<tbody>
		<tr>
			<td rowspan="2">
				<p>Patient Audit Consumer</p>
			</td>
			<td>
				<p>Required</p>
			</td>
			<td>
				<p>IUA - Authorization Client</p>
			</td>
			<td>
				<p><a href="iti-iua.html">IHE ITI Suppl IUA</a></p>
			</td>
		</tr>
		<tr>
			<td>
				<p>Optional</p>
			</td>
			<td>
				<p>CH:CPI - CPI Consumer</p>
			</td>
			<td>
				<p>Amendment 2.3 of Annex 5 EPRO-FDHA</p>
			</td>
		</tr>
		<tr>
			<td rowspan="2">
				<p>Patient Audit Record Repository</p>
			</td>
			<td>
				<p>Required</p>
			</td>
			<td>
				<p>CH:ADR - Authorization Decision Consumer</p>
			</td>
			<td>
				<p>Amendment 2.1 of Annex 5 EPRO-FDHA</p>
			</td>
		</tr>
		<tr>
			<td>
				<p>Required</p>
			</td>
			<td>
				<p>IUA - Resource Server</p>
			</td>
			<td>
				<p><a href="iti-iua.html">IHE ITI Suppl IUA</a></p>
			</td>
		</tr>
	</tbody>
</table>

<p><em>Table 3: Actor Grouping</em></p>

<p>Section <a href="#security-considerations">Security Considerations</a> describes the groupings required for security considerations.</p>

<h3 id="overview---use-cases">Overview - Use Cases</h3>

<p>Activities related to the EPR are audited for specific document and access policy management events as well as entry events of healthcare professionals into a group and stored in the communities.</p>

<p>This profile supports the following Use Cases:</p>

<ol type="a">
  <li>A patient can request protocols of the activities related to his EPR.</li>
  <li>A patient representative can request a protocol of the activities related to the patients delegated EPR.</li>
</ol>

<h3 id="security-considerations">Security Considerations</h3>
<p>This national extension enforces authentication and authorization of access using the IUA profile as described in <a href="iti-iua.html">IUA</a>.</p>




</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript" src="assets/js/window-hash.js"> </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="https://www.e-health-suisse.ch">eHealth Suisse</a>.  Package ch.fhir.ig.ch-epr-fhir#5.0.0-ballot based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, May 22, 2025 13:40+0000">2025-05-22</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                

| <a style="color: #81BEF7" target="_blank" href="https://docs.google.com/forms/d/e/1FAIpQLSffM9HysTOg3VdMOeaFmWiWGH0OQT-FZLmwZaeXgZqUr66Y0A/viewform?usp=sf_link&amp;entry%2E1353807103=ch.fhir.ig.ch-epr-fhir%235.0.0-ballot%20/ch-atc.html&amp;entry%2E247644557=Audit%20Trail%20Consumption%20(CH:ATC)">Propose a change</a>




          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->

  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script type="text/javascript" src="assets/js/anchor-hover.js"> </script>
  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

